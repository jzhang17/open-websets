[Skip to main content](#%5F%5Fdocusaurus%5FskipToContent%5Ffallback)

**Help us build the JS tools that power AI apps at companies like Replit, Uber, LinkedIn, GitLab, and more. [Join our team!](https://jobs.ashbyhq.com/langchain/05efa205-8560-43fd-bfcc-3f7697561cfb?utm%5Fsource=https%3A%2F%2Fjs.langchain.com%2F&utm%5Fcampaign=langchainjs%5Fdocs)**

[![ü¶úÔ∏èüîó Langchain](/img/brand/wordmark.png)![ü¶úÔ∏èüîó Langchain](/img/brand/wordmark-dark.png)](/)[Integrations](/docs/integrations/platforms/)[API Reference](https://v03.api.js.langchain.com)

[More](#)
* [People](/docs/people/)
* [Community](/docs/community)
* [Error reference](/docs/troubleshooting/errors)
* [External guides](/docs/additional%5Fresources/tutorials)
* [Contributing](/docs/contributing)

[v0.3](#)
* [v0.3](/docs/introduction)
* [v0.2](https://js.langchain.com/v0.2/docs/introduction)
* [v0.1](https://js.langchain.com/v0.1/docs/get%5Fstarted/introduction)

[ü¶úüîó](#)
* [LangSmith](https://smith.langchain.com)
* [LangSmith Docs](https://docs.smith.langchain.com)
* [LangChain Hub](https://smith.langchain.com/hub)
* [LangServe](https://github.com/langchain-ai/langserve)
* [Python Docs](https://python.langchain.com/)

[Chat](https://chatjs.langchain.com)[](https://github.com/langchain-ai/langchainjs)

Search

* [Providers](/docs/integrations/platforms/)  
   * [Providers](/docs/integrations/platforms/)  
   * [Anthropic](/docs/integrations/platforms/anthropic)  
   * [AWS](/docs/integrations/platforms/aws)  
   * [Google](/docs/integrations/platforms/google)  
   * [Microsoft](/docs/integrations/platforms/microsoft)  
   * [OpenAI](/docs/integrations/platforms/openai)
* [Components](/docs/integrations/components)  
   * [Chat models](/docs/integrations/chat/)  
         * [Chat models](/docs/integrations/chat/)  
         * [Alibaba Tongyi](/docs/integrations/chat/alibaba%5Ftongyi)  
         * [Anthropic](/docs/integrations/chat/anthropic)  
         * [Arcjet Redact](/docs/integrations/chat/arcjet)  
         * [Azure OpenAI](/docs/integrations/chat/azure)  
         * [Baidu Qianfan](/docs/integrations/chat/baidu%5Fqianfan)  
         * [Baidu Wenxin](/docs/integrations/chat/baidu%5Fwenxin)  
         * [Amazon Bedrock](/docs/integrations/chat/bedrock)  
         * [Amazon Bedrock Converse](/docs/integrations/chat/bedrock%5Fconverse)  
         * [Cerebras](/docs/integrations/chat/cerebras)  
         * [Cloudflare Workers AI](/docs/integrations/chat/cloudflare%5Fworkersai)  
         * [Cohere](/docs/integrations/chat/cohere)  
         * [Deep Infra](/docs/integrations/chat/deep%5Finfra)  
         * [DeepSeek](/docs/integrations/chat/deepseek)  
         * [DeepSeek](/docs/integrations/chat/deepseek)  
         * [Fake LLM](/docs/integrations/chat/fake)  
         * [Fireworks](/docs/integrations/chat/fireworks)  
         * [Friendli](/docs/integrations/chat/friendli)  
         * [Google GenAI](/docs/integrations/chat/google%5Fgenerativeai)  
         * [Google Vertex AI](/docs/integrations/chat/google%5Fvertex%5Fai)  
         * [Groq](/docs/integrations/chat/groq)  
         * [IBM watsonx.ai](/docs/integrations/chat/ibm)  
         * [Llama CPP](/docs/integrations/chat/llama%5Fcpp)  
         * [Minimax](/docs/integrations/chat/minimax)  
         * [MistralAI](/docs/integrations/chat/mistral)  
         * [Moonshot](/docs/integrations/chat/moonshot)  
         * [NIBittensorChatModel](/docs/integrations/chat/ni%5Fbittensor)  
         * [Novita AI](/docs/integrations/chat/novita)  
         * [Ollama](/docs/integrations/chat/ollama)  
         * [Ollama Functions](/docs/integrations/chat/ollama%5Ffunctions)  
         * [OpenAI](/docs/integrations/chat/openai)  
         * [Perplexity](/docs/integrations/chat/perplexity)  
         * [Perplexity](/docs/integrations/chat/perplexity)  
         * [PremAI](/docs/integrations/chat/premai)  
         * [PromptLayer OpenAI](/docs/integrations/chat/prompt%5Flayer%5Fopenai)  
         * [Tencent Hunyuan](/docs/integrations/chat/tencent%5Fhunyuan)  
         * [Together](/docs/integrations/chat/togetherai)  
         * [WebLLM](/docs/integrations/chat/web%5Fllm)  
         * [xAI](/docs/integrations/chat/xai)  
         * [YandexGPT](/docs/integrations/chat/yandex)  
         * [ZhipuAI](/docs/integrations/chat/zhipuai)  
   * [LLMs](/docs/integrations/llms/)  
         * [LLMs](/docs/integrations/llms/)  
         * [AI21](/docs/integrations/llms/ai21)  
         * [AlephAlpha](/docs/integrations/llms/aleph%5Falpha)  
         * [Arcjet Redact](/docs/integrations/llms/arcjet)  
         * [AWS SageMakerEndpoint](/docs/integrations/llms/aws%5Fsagemaker)  
         * [Azure OpenAI](/docs/integrations/llms/azure)  
         * [Bedrock](/docs/integrations/llms/bedrock)  
         * [ChromeAI](/docs/integrations/llms/chrome%5Fai)  
         * [Cloudflare Workers AI](/docs/integrations/llms/cloudflare%5Fworkersai)  
         * [Cohere](/docs/integrations/llms/cohere)  
         * [Deep Infra](/docs/integrations/llms/deep%5Finfra)  
         * [Fireworks](/docs/integrations/llms/fireworks)  
         * [Friendli](/docs/integrations/llms/friendli)  
         * [Google Vertex AI](/docs/integrations/llms/google%5Fvertex%5Fai)  
         * [Gradient AI](/docs/integrations/llms/gradient%5Fai)  
         * [HuggingFaceInference](/docs/integrations/llms/huggingface%5Finference)  
         * [IBM watsonx.ai](/docs/integrations/llms/ibm)  
         * [JigsawStack Prompt Engine](/docs/integrations/llms/jigsawstack)  
         * [Layerup Security](/docs/integrations/llms/layerup%5Fsecurity)  
         * [Llama CPP](/docs/integrations/llms/llama%5Fcpp)  
         * [MistralAI](/docs/integrations/llms/mistral)  
         * [NIBittensor](/docs/integrations/llms/ni%5Fbittensor)  
         * [Ollama](/docs/integrations/llms/ollama)  
         * [OpenAI](/docs/integrations/llms/openai)  
         * [PromptLayer OpenAI](/docs/integrations/llms/prompt%5Flayer%5Fopenai)  
         * [RaycastAI](/docs/integrations/llms/raycast)  
         * [Replicate](/docs/integrations/llms/replicate)  
         * [Together AI](/docs/integrations/llms/together)  
         * [Writer](/docs/integrations/llms/writer)  
         * [YandexGPT](/docs/integrations/llms/yandex)  
   * [Embedding models](/docs/integrations/text%5Fembedding/)  
         * [Embeddings](/docs/integrations/text%5Fembedding/)  
         * [Alibaba Tongyi](/docs/integrations/text%5Fembedding/alibaba%5Ftongyi)  
         * [Azure OpenAI](/docs/integrations/text%5Fembedding/azure%5Fopenai)  
         * [Baidu Qianfan](/docs/integrations/text%5Fembedding/baidu%5Fqianfan)  
         * [Amazon Bedrock](/docs/integrations/text%5Fembedding/bedrock)  
         * [ByteDance Doubao](/docs/integrations/text%5Fembedding/bytedance%5Fdoubao)  
         * [Cloudflare Workers AI](/docs/integrations/text%5Fembedding/cloudflare%5Fai)  
         * [Cohere](/docs/integrations/text%5Fembedding/cohere)  
         * [DeepInfra](/docs/integrations/text%5Fembedding/deepinfra)  
         * [Fireworks](/docs/integrations/text%5Fembedding/fireworks)  
         * [Google Generative AI](/docs/integrations/text%5Fembedding/google%5Fgenerativeai)  
         * [Google Vertex AI](/docs/integrations/text%5Fembedding/google%5Fvertex%5Fai)  
         * [Gradient AI](/docs/integrations/text%5Fembedding/gradient%5Fai)  
         * [HuggingFace Inference](/docs/integrations/text%5Fembedding/hugging%5Fface%5Finference)  
         * [IBM watsonx.ai](/docs/integrations/text%5Fembedding/ibm)  
         * [Jina](/docs/integrations/text%5Fembedding/jina)  
         * [Llama CPP](/docs/integrations/text%5Fembedding/llama%5Fcpp)  
         * [Minimax](/docs/integrations/text%5Fembedding/minimax)  
         * [MistralAI](/docs/integrations/text%5Fembedding/mistralai)  
         * [Mixedbread AI](/docs/integrations/text%5Fembedding/mixedbread%5Fai)  
         * [Nomic](/docs/integrations/text%5Fembedding/nomic)  
         * [Ollama](/docs/integrations/text%5Fembedding/ollama)  
         * [OpenAI](/docs/integrations/text%5Fembedding/openai)  
         * [Pinecone](/docs/integrations/text%5Fembedding/pinecone)  
         * [Prem AI](/docs/integrations/text%5Fembedding/premai)  
         * [Tencent Hunyuan](/docs/integrations/text%5Fembedding/tencent%5Fhunyuan)  
         * [TensorFlow](/docs/integrations/text%5Fembedding/tensorflow)  
         * [TogetherAI](/docs/integrations/text%5Fembedding/togetherai)  
         * [HuggingFace Transformers](/docs/integrations/text%5Fembedding/transformers)  
         * [Voyage AI](/docs/integrations/text%5Fembedding/voyageai)  
         * [ZhipuAI](/docs/integrations/text%5Fembedding/zhipuai)  
   * [Document loaders](/docs/integrations/document%5Floaders/)  
   * [Vector stores](/docs/integrations/vectorstores/)  
         * [Vector stores](/docs/integrations/vectorstores/)  
         * [AnalyticDB](/docs/integrations/vectorstores/analyticdb)  
         * [Astra DB](/docs/integrations/vectorstores/astradb)  
         * [Azion EdgeSQL](/docs/integrations/vectorstores/azion-edgesql)  
         * [Azion EdgeSQL](/docs/integrations/vectorstores/azion-edgesql)  
         * [Azure AI Search](/docs/integrations/vectorstores/azure%5Faisearch)  
         * [Azure Cosmos DB for MongoDB vCore](/docs/integrations/vectorstores/azure%5Fcosmosdb%5Fmongodb)  
         * [Azure Cosmos DB for NoSQL](/docs/integrations/vectorstores/azure%5Fcosmosdb%5Fnosql)  
         * [Cassandra](/docs/integrations/vectorstores/cassandra)  
         * [Chroma](/docs/integrations/vectorstores/chroma)  
         * [ClickHouse](/docs/integrations/vectorstores/clickhouse)  
         * [CloseVector](/docs/integrations/vectorstores/closevector)  
         * [Cloudflare Vectorize](/docs/integrations/vectorstores/cloudflare%5Fvectorize)  
         * [Convex](/docs/integrations/vectorstores/convex)  
         * [Couchbase](/docs/integrations/vectorstores/couchbase)  
         * [Elasticsearch](/docs/integrations/vectorstores/elasticsearch)  
         * [Faiss](/docs/integrations/vectorstores/faiss)  
         * [Google Cloud SQL for PostgreSQL](/docs/integrations/vectorstores/google%5Fcloudsql%5Fpg)  
         * [Google Cloud SQL for PostgreSQL](/docs/integrations/vectorstores/google%5Fcloudsql%5Fpg)  
         * [Google Vertex AI Matching Engine](/docs/integrations/vectorstores/googlevertexai)  
         * [SAP HANA Cloud Vector Engine](/docs/integrations/vectorstores/hanavector)  
         * [HNSWLib](/docs/integrations/vectorstores/hnswlib)  
         * [LanceDB](/docs/integrations/vectorstores/lancedb)  
         * [libSQL](/docs/integrations/vectorstores/libsql)  
         * [MariaDB](/docs/integrations/vectorstores/mariadb)  
         * [In-memory](/docs/integrations/vectorstores/memory)  
         * [Milvus](/docs/integrations/vectorstores/milvus)  
         * [Momento Vector Index (MVI)](/docs/integrations/vectorstores/momento%5Fvector%5Findex)  
         * [MongoDB Atlas](/docs/integrations/vectorstores/mongodb%5Fatlas)  
         * [MyScale](/docs/integrations/vectorstores/myscale)  
         * [Neo4j Vector Index](/docs/integrations/vectorstores/neo4jvector)  
         * [Neon Postgres](/docs/integrations/vectorstores/neon)  
         * [OpenSearch](/docs/integrations/vectorstores/opensearch)  
         * [PGVector](/docs/integrations/vectorstores/pgvector)  
         * [Pinecone](/docs/integrations/vectorstores/pinecone)  
         * [Prisma](/docs/integrations/vectorstores/prisma)  
         * [Qdrant](/docs/integrations/vectorstores/qdrant)  
         * [Redis](/docs/integrations/vectorstores/redis)  
         * [Rockset](/docs/integrations/vectorstores/rockset)  
         * [SingleStore](/docs/integrations/vectorstores/singlestore)  
         * [Supabase](/docs/integrations/vectorstores/supabase)  
         * [Tigris](/docs/integrations/vectorstores/tigris)  
         * [Turbopuffer](/docs/integrations/vectorstores/turbopuffer)  
         * [TypeORM](/docs/integrations/vectorstores/typeorm)  
         * [Typesense](/docs/integrations/vectorstores/typesense)  
         * [Upstash Vector](/docs/integrations/vectorstores/upstash)  
         * [USearch](/docs/integrations/vectorstores/usearch)  
         * [Vectara](/docs/integrations/vectorstores/vectara)  
         * [Vercel Postgres](/docs/integrations/vectorstores/vercel%5Fpostgres)  
         * [Voy](/docs/integrations/vectorstores/voy)  
         * [Weaviate](/docs/integrations/vectorstores/weaviate)  
         * [Xata](/docs/integrations/vectorstores/xata)  
         * [Zep Open Source](/docs/integrations/vectorstores/zep)  
         * [Zep Cloud](/docs/integrations/vectorstores/zep%5Fcloud)  
   * [Retrievers](/docs/integrations/retrievers/)  
         * [Retrievers](/docs/integrations/retrievers/)  
         * [ArxivRetriever](/docs/integrations/retrievers/arxiv-retriever)  
         * [Azion EdgeSQL](/docs/integrations/retrievers/azion-edgesql)  
         * [Azion EdgeSQL](/docs/integrations/retrievers/azion-edgesql)  
         * [Knowledge Bases for Amazon Bedrock](/docs/integrations/retrievers/bedrock-knowledge-bases)  
         * [BM25](/docs/integrations/retrievers/bm25)  
         * [Chaindesk Retriever](/docs/integrations/retrievers/chaindesk-retriever)  
         * [ChatGPT Plugin Retriever](/docs/integrations/retrievers/chatgpt-retriever-plugin)  
         * [Dria Retriever](/docs/integrations/retrievers/dria)  
         * [Exa](/docs/integrations/retrievers/exa)  
         * [HyDE Retriever](/docs/integrations/retrievers/hyde)  
         * [Amazon Kendra Retriever](/docs/integrations/retrievers/kendra-retriever)  
         * [Metal Retriever](/docs/integrations/retrievers/metal-retriever)  
         * [Self-querying retrievers](/docs/integrations/retrievers/self%5Fquery/)  
         * [Supabase Hybrid Search](/docs/integrations/retrievers/supabase-hybrid)  
         * [Tavily Search API](/docs/integrations/retrievers/tavily)  
         * [Time-Weighted Retriever](/docs/integrations/retrievers/time-weighted-retriever)  
         * [Vespa Retriever](/docs/integrations/retrievers/vespa-retriever)  
         * [Zep Cloud Retriever](/docs/integrations/retrievers/zep-cloud-retriever)  
         * [Zep Open Source Retriever](/docs/integrations/retrievers/zep-retriever)  
   * [Tools/Toolkits](/docs/integrations/tools/)  
         * [Tools and Toolkits](/docs/integrations/tools/)  
         * [ChatGPT Plugins](/docs/integrations/tools/aiplugin-tool)  
         * [Azure Container Apps Dynamic Sessions](/docs/integrations/tools/azure%5Fdynamic%5Fsessions)  
         * [Connery Action Tool](/docs/integrations/tools/connery)  
         * [Dall-E Tool](/docs/integrations/tools/dalle)  
         * [Discord Tool](/docs/integrations/tools/discord)  
         * [DuckDuckGoSearch](/docs/integrations/tools/duckduckgo%5Fsearch)  
         * [ExaSearchResults](/docs/integrations/tools/exa%5Fsearch)  
         * [Gmail Tool](/docs/integrations/tools/gmail)  
         * [GOAT](/docs/integrations/tools/goat)  
         * [Google Calendar Tool](/docs/integrations/tools/google%5Fcalendar)  
         * [Google Places Tool](/docs/integrations/tools/google%5Fplaces)  
         * [Google Routes Tool](/docs/integrations/tools/google%5Froutes)  
         * [Google Scholar](/docs/integrations/tools/google%5Fscholar)  
         * [Google Trends Tool](/docs/integrations/tools/google%5Ftrends)  
         * [JigsawStack Tool](/docs/integrations/tools/jigsawstack)  
         * [Agent with AWS Lambda](/docs/integrations/tools/lambda%5Fagent)  
         * [Python interpreter tool](/docs/integrations/tools/pyinterpreter)  
         * [SearchApi tool](/docs/integrations/tools/searchapi)  
         * [Searxng Search tool](/docs/integrations/tools/searxng)  
         * [SerpAPI](/docs/integrations/tools/serpapi)  
         * [StackExchange Tool](/docs/integrations/tools/stackexchange)  
         * [Stagehand AI Web Automation Toolkit](/docs/integrations/tools/stagehand)  
         * [Tavily Extract](/docs/integrations/tools/tavily%5Fextract)  
         * [Tavily Search](/docs/integrations/tools/tavily%5Fsearch)  
         * [Tavily Search (Community, Deprecated)](/docs/integrations/tools/tavily%5Fsearch%5Fcommunity)  
         * [Web Browser Tool](/docs/integrations/tools/webbrowser)  
         * [Wikipedia tool](/docs/integrations/tools/wikipedia)  
         * [WolframAlpha Tool](/docs/integrations/tools/wolframalpha)  
         * [Agent with Zapier NLA Integration](/docs/integrations/tools/zapier%5Fagent)  
   * [Toolkits](/docs/integrations/tools/)  
         * [Toolkits](/docs/integrations/toolkits/)  
         * [Connery Toolkit](/docs/integrations/toolkits/connery)  
         * [WatsonxToolkit](/docs/integrations/toolkits/ibm)  
         * [WatsonxToolkit](/docs/integrations/toolkits/ibm)  
         * [JSON Agent Toolkit](/docs/integrations/toolkits/json)  
         * [OpenApi Toolkit](/docs/integrations/toolkits/openapi)  
         * [AWS Step Functions Toolkit](/docs/integrations/toolkits/sfn%5Fagent)  
         * [Sql Toolkit](/docs/integrations/toolkits/sql)  
         * [VectorStore Toolkit](/docs/integrations/toolkits/vectorstore)  
   * [Key-value stores](/docs/integrations/stores/)  
         * [Cassandra KV](/docs/integrations/stores/cassandra%5Fstorage)  
         * [File System Store](/docs/integrations/stores/file%5Fsystem)  
         * [InMemory Store](/docs/integrations/stores/in%5Fmemory)  
         * [Key-value stores](/docs/integrations/stores/)  
         * [IORedis](/docs/integrations/stores/ioredis%5Fstorage)  
         * [Upstash Redis](/docs/integrations/stores/upstash%5Fredis%5Fstorage)  
         * [Vercel KV](/docs/integrations/stores/vercel%5Fkv%5Fstorage)  
   * [Other](/docs/integrations/document%5Ftransformers)  
         * [Document transformers](/docs/integrations/document%5Ftransformers)  
                  * [html-to-text](/docs/integrations/document%5Ftransformers/html-to-text)  
                  * [@mozilla/readability](/docs/integrations/document%5Ftransformers/mozilla%5Freadability)  
                  * [OpenAI functions metadata tagger](/docs/integrations/document%5Ftransformers/openai%5Fmetadata%5Ftagger)  
         * [Document rerankers](/docs/integrations/document%5Fcompressors)  
                  * [Cohere Rerank](/docs/integrations/document%5Fcompressors/cohere%5Frerank)  
                  * [IBM watsonx.ai](/docs/integrations/document%5Fcompressors/ibm)  
                  * [Mixedbread AI reranking](/docs/integrations/document%5Fcompressors/mixedbread%5Fai)  
         * [Model caches](/docs/integrations/llm%5Fcaching/)  
                  * [Azure Cosmos DB NoSQL Semantic Cache](/docs/integrations/llm%5Fcaching/azure%5Fcosmosdb%5Fnosql)  
                  * [Model caches](/docs/integrations/llm%5Fcaching/)  
         * [Memory](/docs/integrations/memory)  
                  * [Astra DB Chat Memory](/docs/integrations/memory/astradb)  
                  * [Aurora DSQL Chat Memory](/docs/integrations/memory/aurora%5Fdsql)  
                  * [Azure Cosmos DB Mongo vCore Chat Message History](/docs/integrations/memory/azure%5Fcosmos%5Fmongo%5Fvcore)  
                  * [Azure Cosmos DB NoSQL Chat Message History](/docs/integrations/memory/azure%5Fcosmosdb%5Fnosql)  
                  * [Cassandra Chat Memory](/docs/integrations/memory/cassandra)  
                  * [Cloudflare D1-Backed Chat Memory](/docs/integrations/memory/cloudflare%5Fd1)  
                  * [Convex Chat Memory](/docs/integrations/memory/convex)  
                  * [DynamoDB-Backed Chat Memory](/docs/integrations/memory/dynamodb)  
                  * [File System Chat Message History](/docs/integrations/memory/file)  
                  * [Firestore Chat Memory](/docs/integrations/memory/firestore)  
                  * [Google Cloud SQL for PostgreSQL](/docs/integrations/memory/google%5Fcloudsql%5Fpg)  
                  * [IPFS Datastore Chat Memory](/docs/integrations/memory/ipfs%5Fdatastore)  
                  * [Mem0 Memory](/docs/integrations/memory/mem0%5Fmemory)  
                  * [Momento-Backed Chat Memory](/docs/integrations/memory/momento)  
                  * [MongoDB Chat Memory](/docs/integrations/memory/mongodb)  
                  * [Mot√∂rhead Memory](/docs/integrations/memory/motorhead%5Fmemory)  
                  * [PlanetScale Chat Memory](/docs/integrations/memory/planetscale)  
                  * [Postgres Chat Memory](/docs/integrations/memory/postgres)  
                  * [Redis-Backed Chat Memory](/docs/integrations/memory/redis)  
                  * [Upstash Redis-Backed Chat Memory](/docs/integrations/memory/upstash%5Fredis)  
                  * [Xata Chat Memory](/docs/integrations/memory/xata)  
                  * [Zep Open Source Memory](/docs/integrations/memory/zep%5Fmemory)  
                  * [Zep Cloud Memory](/docs/integrations/memory/zep%5Fmemory%5Fcloud)  
         * [Callbacks](/docs/integrations/callbacks)  
                  * [Datadog LLM Observability](/docs/integrations/callbacks/datadog%5Ftracer)  
                  * [Upstash Ratelimit Callback](/docs/integrations/callbacks/upstash%5Fratelimit%5Fcallback)

* [Components](/docs/integrations/components)
* Other
* [Document rerankers](/docs/integrations/document%5Fcompressors)
* IBM watsonx.ai

On this page

# IBM watsonx.ai

## Overview[‚Äã](#overview "Direct link to Overview")

This will help you getting started with the [Watsonx document compressor](/docs/concepts/#document%5Fcompressors). For detailed documentation of all Watsonx document compressor features and configurations head to the [API reference](https://api.js.langchain.com/modules/%5Flangchain%5Fcommunity.document%5Fcompressors%5Fibm.html).

### Integration details[‚Äã](#integration-details "Direct link to Integration details")

| Class                                                                                                                          | Package                                                                    | [PY support](https://python.langchain.com/docs/integrations/retrievers/ibm%5Fwatsonx%5Franker/) | Package downloads                                                                                       | Package latest                                                                                       |
| ------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- |
| [WatsonxRerank](https://api.js.langchain.com/classes/%5Flangchain%5Fcommunity.document%5Fcompressors%5Fibm.WatsonxRerank.html) | [@langchain/community](https://www.npmjs.com/package/@langchain/community) | ‚úÖ                                                                                               | ![NPM - Downloads](https://img.shields.io/npm/dm/@langchain/community?style=flat-square&label=%20&.png) | ![NPM - Version](https://img.shields.io/npm/v/@langchain/community?style=flat-square&label=%20&.png) |

## Setup[‚Äã](#setup "Direct link to Setup")

To access IBM WatsonxAI models you‚Äôll need to create an IBM watsonx.ai account, get an API key or any other type of credentials, and install the `@langchain/community` integration package.

### Credentials[‚Äã](#credentials "Direct link to Credentials")

Head to [IBM Cloud](https://cloud.ibm.com/login) to sign up to IBM watsonx.ai and generate an API key or provide any other authentication form as presented below.

#### IAM authentication[‚Äã](#iam-authentication "Direct link to IAM authentication")

```
export WATSONX_AI_AUTH_TYPE=iam
export WATSONX_AI_APIKEY=<YOUR-APIKEY>

```

#### Bearer token authentication[‚Äã](#bearer-token-authentication "Direct link to Bearer token authentication")

```
export WATSONX_AI_AUTH_TYPE=bearertoken
export WATSONX_AI_BEARER_TOKEN=<YOUR-BEARER-TOKEN>

```

#### IBM watsonx.ai software authentication[‚Äã](#ibm-watsonx.ai-software-authentication "Direct link to IBM watsonx.ai software authentication")

```
export WATSONX_AI_AUTH_TYPE=cp4d
export WATSONX_AI_USERNAME=<YOUR_USERNAME>
export WATSONX_AI_PASSWORD=<YOUR_PASSWORD>
export WATSONX_AI_URL=<URL>

```

Once these are placed in your environment variables and object is initialized authentication will proceed automatically.

Authentication can also be accomplished by passing these values as parameters to a new instance.

## IAM authentication[‚Äã](#iam-authentication-1 "Direct link to IAM authentication")

```
import { WatsonxLLM } from "@langchain/community/llms/ibm";

const props = {
  version: "YYYY-MM-DD",
  serviceUrl: "<SERVICE_URL>",
  projectId: "<PROJECT_ID>",
  watsonxAIAuthType: "iam",
  watsonxAIApikey: "<YOUR-APIKEY>",
};
const instance = new WatsonxLLM(props);

```

## Bearer token authentication[‚Äã](#bearer-token-authentication-1 "Direct link to Bearer token authentication")

```
import { WatsonxLLM } from "@langchain/community/llms/ibm";

const props = {
  version: "YYYY-MM-DD",
  serviceUrl: "<SERVICE_URL>",
  projectId: "<PROJECT_ID>",
  watsonxAIAuthType: "bearertoken",
  watsonxAIBearerToken: "<YOUR-BEARERTOKEN>",
};
const instance = new WatsonxLLM(props);

```

### IBM watsonx.ai software authentication[‚Äã](#ibm-watsonx.ai-software-authentication-1 "Direct link to IBM watsonx.ai software authentication")

```
import { WatsonxLLM } from "@langchain/community/llms/ibm";

const props = {
  version: "YYYY-MM-DD",
  serviceUrl: "<SERVICE_URL>",
  projectId: "<PROJECT_ID>",
  watsonxAIAuthType: "cp4d",
  watsonxAIUsername: "<YOUR-USERNAME>",
  watsonxAIPassword: "<YOUR-PASSWORD>",
  watsonxAIUrl: "<url>",
};
const instance = new WatsonxLLM(props);

```

If you want to get automated tracing from individual queries, you can also set your [LangSmith](https://docs.smith.langchain.com/) API key by uncommenting below:

```
// process.env.LANGSMITH_API_KEY = "<YOUR API KEY HERE>";
// process.env.LANGSMITH_TRACING = "true";

```

### Installation[‚Äã](#installation "Direct link to Installation")

This document compressor lives in the `@langchain/community` package:

tip

See [this section for general instructions on installing integration packages](/docs/how%5Fto/installation#installing-integration-packages).

* npm
* yarn
* pnpm

```
npm i @langchain/community @langchain/core

```

```
yarn add @langchain/community @langchain/core

```

```
pnpm add @langchain/community @langchain/core

```

## Instantiation[‚Äã](#instantiation "Direct link to Instantiation")

Now we can instantiate our compressor:

```
import { WatsonxRerank } from "@langchain/community/document_compressors/ibm";

const watsonxRerank = new WatsonxRerank({
  version: "2024-05-31",
  serviceUrl: process.env.WATSONX_AI_SERVICE_URL,
  projectId: process.env.WATSONX_AI_PROJECT_ID,
  model: "cross-encoder/ms-marco-minilm-l-12-v2",
});

```

## Usage[‚Äã](#usage "Direct link to Usage")

First, set up a basic RAG ingest pipeline with embeddings, a text splitter and a vector store. We‚Äôll use this to and rerank some documents regarding the selected query:

```
import { readFileSync } from "node:fs";
import { MemoryVectorStore } from "langchain/vectorstores/memory";
import { WatsonxEmbeddings } from "@langchain/community/embeddings/ibm";
import { CharacterTextSplitter } from "@langchain/textsplitters";

const embeddings = new WatsonxEmbeddings({
  version: "YYYY-MM-DD",
  serviceUrl: process.env.API_URL,
  projectId: "<PROJECT_ID>",
  spaceId: "<SPACE_ID>",
  model: "ibm/slate-125m-english-rtrvr",
});

const textSplitter = new CharacterTextSplitter({
  chunkSize: 400,
  chunkOverlap: 0,
});

const query = "What did the president say about Ketanji Brown Jackson";
const text = readFileSync("state_of_the_union.txt", "utf8");

const docs = await textSplitter.createDocuments([text]);
const vectorStore = await MemoryVectorStore.fromDocuments(docs, embeddings);
const vectorStoreRetriever = vectorStore.asRetriever();

const result = await vectorStoreRetriever.invoke(query);
console.log(result);

```

```
[
  Document {
    pageContent: 'And I did that 4 days ago, when I nominated Circuit Court of Appeals Judge Ketanji Brown Jackson. One of our nation‚Äôs top legal minds, who will continue Justice Breyer‚Äôs legacy of excellence.',
    metadata: { loc: [Object] },
    id: undefined
  },
  Document {
    pageContent: 'I spoke with their families and told them that we are forever in debt for their sacrifice, and we will carry on their mission to restore the trust and safety every community deserves. \n' +
      '\n' +
      'I‚Äôve worked on these issues a long time. \n' +
      '\n' +
      'I know what works: Investing in crime preventionand community police officers who‚Äôll walk the beat, who‚Äôll know the neighborhood, and who can restore trust and safety.',
    metadata: { loc: [Object] },
    id: undefined
  },
  Document {
    pageContent: 'We are the only nation on Earth that has always turned every crisis we have faced into an opportunity. \n' +
      '\n' +
      'The only nation that can be defined by a single word: possibilities. \n' +
      '\n' +
      'So on this night, in our 245th year as a nation, I have come to report on the State of the Union. \n' +
      '\n' +
      'And my report is this: the State of the Union is strong‚Äîbecause you, the American people, are strong.',
    metadata: { loc: [Object] },
    id: undefined
  },
  Document {
    pageContent: 'And I‚Äôm taking robust action to make sure the pain of our sanctions  is targeted at Russia‚Äôs economy. And I will use every tool at our disposal to protect American businesses and consumers. \n' +
      '\n' +
      'Tonight, I can announce that the United States has worked with 30 other countries to release 60 Million barrels of oil from reserves around the world.',
    metadata: { loc: [Object] },
    id: undefined
  }
]

```

Pass selected documents to rerank and recive specific score for each

```
import { WatsonxRerank } from "@langchain/community/document_compressors/ibm";

const reranker = new WatsonxRerank({
  version: "2024-05-31",
  serviceUrl: process.env.WATSONX_AI_SERVICE_URL,
  projectId: process.env.WATSONX_AI_PROJECT_ID,
  model: "cross-encoder/ms-marco-minilm-l-12-v2",
});
const compressed = await reranker.rerank(result, query);
console.log(compressed);

```

```
[
  { index: 0, relevanceScore: 0.726995587348938 },
  { index: 1, relevanceScore: 0.5758284330368042 },
  { index: 2, relevanceScore: 0.5479092597961426 },
  { index: 3, relevanceScore: 0.5468723773956299 }
]

```

Or else you could have the documents returned with the result, for that use .compressDocuments() method as below.

```
const compressedWithResults = await reranker.compressDocuments(result, query);
console.log(compressedWithResults);

```

```
[
  Document {
    pageContent: 'And I did that 4 days ago, when I nominated Circuit Court of Appeals Judge Ketanji Brown Jackson. One of our nation‚Äôs top legal minds, who will continue Justice Breyer‚Äôs legacy of excellence.',
    metadata: { loc: [Object], relevanceScore: 0.726995587348938 },
    id: undefined
  },
  Document {
    pageContent: 'I spoke with their families and told them that we are forever in debt for their sacrifice, and we will carry on their mission to restore the trust and safety every community deserves. \n' +
      '\n' +
      'I‚Äôve worked on these issues a long time. \n' +
      '\n' +
      'I know what works: Investing in crime preventionand community police officers who‚Äôll walk the beat, who‚Äôll know the neighborhood, and who can restore trust and safety.',
    metadata: { loc: [Object], relevanceScore: 0.5758284330368042 },
    id: undefined
  },
  Document {
    pageContent: 'We are the only nation on Earth that has always turned every crisis we have faced into an opportunity. \n' +
      '\n' +
      'The only nation that can be defined by a single word: possibilities. \n' +
      '\n' +
      'So on this night, in our 245th year as a nation, I have come to report on the State of the Union. \n' +
      '\n' +
      'And my report is this: the State of the Union is strong‚Äîbecause you, the American people, are strong.',
    metadata: { loc: [Object], relevanceScore: 0.5479092597961426 },
    id: undefined
  },
  Document {
    pageContent: 'And I‚Äôm taking robust action to make sure the pain of our sanctions  is targeted at Russia‚Äôs economy. And I will use every tool at our disposal to protect American businesses and consumers. \n' +
      '\n' +
      'Tonight, I can announce that the United States has worked with 30 other countries to release 60 Million barrels of oil from reserves around the world.',
    metadata: { loc: [Object], relevanceScore: 0.5468723773956299 },
    id: undefined
  }
]

```

## API reference[‚Äã](#api-reference "Direct link to API reference")

For detailed documentation of all Watsonx document compressor features and configurations head to the [API reference](https://api.js.langchain.com/modules/%5Flangchain%5Fcommunity.document%5Fcompressors%5Fibm.html).

---

#### Was this page helpful?

  
#### You can also leave detailed feedback [on GitHub](https://github.com/langchain-ai/langchainjs/issues/new?assignees=&labels=03+-+Documentation&projects=&template=documentation.yml&title=DOC%3A+%3CPlease+write+a+comprehensive+title+after+the+%27DOC%3A+%27+prefix%3E).

[PreviousCohere Rerank](/docs/integrations/document%5Fcompressors/cohere%5Frerank)[NextMixedbread AI reranking](/docs/integrations/document%5Fcompressors/mixedbread%5Fai)

* [Overview](#overview)  
   * [Integration details](#integration-details)
* [Setup](#setup)  
   * [Credentials](#credentials)
* [IAM authentication](#iam-authentication-1)
* [Bearer token authentication](#bearer-token-authentication-1)  
   * [IBM watsonx.ai software authentication](#ibm-watsonx.ai-software-authentication-1)  
   * [Installation](#installation)
* [Instantiation](#instantiation)
* [Usage](#usage)
* [API reference](#api-reference)

Community

* [Twitter](https://twitter.com/LangChainAI)

GitHub

* [Python](https://github.com/langchain-ai/langchain)
* [JS/TS](https://github.com/langchain-ai/langchainjs)

More

* [Homepage](https://langchain.com)
* [Blog](https://blog.langchain.dev)

Copyright ¬© 2025 LangChain, Inc.