Products

Docs 

Search

* [Demos](/example/)
* [Theme Builder](/theme-builder/)
* [Docs](/react-data-grid/getting-started/)
* [API](/react-data-grid/reference/)
* [Community](/community/)
* [Pricing](/license-pricing/)
* [GitHub](https://github.com/ag-grid/ag-grid)
* Dark Mode

* [AG Charts](https://www.ag-grid.com/charts)
* [Demos](/example/)
* [Theme Builder](/theme-builder/)
* [Docs](/react-data-grid/getting-started/)
* [API](/react-data-grid/reference/)
* [Community](/community/)
* [Pricing](/license-pricing/)
* [GitHub](https://github.com/ag-grid/ag-grid)
* Dark Mode

[What's New](/whats-new)

##### Getting Started

[Quick Start](/react-data-grid/getting-started/)[Key Features](/react-data-grid/key-features/)[Community vs. Enterprise](/react-data-grid/community-vs-enterprise/)

Setup

[Installation](/react-data-grid/installation/)[Registering Modules](/react-data-grid/modules/)[Installing Enterprise Licence](/react-data-grid/license-install/)[Migration](/react-data-grid/migration/)[Codemods](/react-data-grid/codemods/)

Tutorials

[Creating a Basic Grid](/react-data-grid/deep-dive/)[Best Practices](/react-data-grid/react-hooks/)Testing

[Overview](/react-data-grid/testing/)[Playwright](https://blog.ag-grid.com/writing-e2e-tests-for-ag-grid-react-tables-with-playwright/)[Cypress](https://blog.ag-grid.com/end-to-end-testing-for-ag-grid-in-react-with-cypress/)[React Testing Library](https://blog.ag-grid.com/unit-testing-ag-grid-react-tables-with-react-testing-library-and-vitest/)

[Video Tutorials](https://www.youtube.com/watch?v=6hxbPqziELk&list=PLsZlhayVgqNwHNHeqpCkSgdRV08xrKtzW&pp=gAQB)

Compatibility & Security

[Compatibility](/react-data-grid/compatibility/)[Security](/react-data-grid/security/)[Supported Browsers](/react-data-grid/supported-browsers/)

---

##### Layout & Styling

Theming

[Overview](/react-data-grid/theming/)[Built-in Themes](/react-data-grid/themes/)[Theme Parameters](/react-data-grid/theming-parameters/)[Theme Parts](/react-data-grid/theming-parts/)[Colors & Dark Mode](/react-data-grid/theming-colors/)[Fonts](/react-data-grid/theming-fonts/)[Borders](/react-data-grid/theming-borders/)[Compactness & Row Height](/react-data-grid/theming-compactness/)[Selections](/react-data-grid/theming-selections/)[Headers](/react-data-grid/theming-headers/)[Icons](/react-data-grid/custom-icons/)[Tool Panels](/react-data-grid/theming-tool-panels/)[Inputs & Widgets](/react-data-grid/theming-widgets/)[Menus & Popups](/react-data-grid/theming-popups/)[Extending with CSS](/react-data-grid/theming-css/)[Distributing Shared Themes](/react-data-grid/theming-distribution/)[Migration from v32](/react-data-grid/theming-migration/)[Legacy Themes](/react-data-grid/theming-v32/)

[Design System](/react-data-grid/ag-grid-design-system/)[Grid Layout](/react-data-grid/grid-size/)

---

##### Charting

Sparklines

[Install Sparklines](/react-data-grid/sparklines-installation/)[Overview](/react-data-grid/sparklines-overview/)

[Area](/react-data-grid/sparklines-area-customisation/)[Bar](/react-data-grid/sparklines-bar-customisation/)[Column](/react-data-grid/sparklines-column-customisation/)[Line](/react-data-grid/sparklines-line-customisation/)

[Sparkline Data](/react-data-grid/sparklines-data/)[Axis Types](/react-data-grid/sparklines-axis-types/)[Tooltips](/react-data-grid/sparklines-tooltips/)[Points of Interest](/react-data-grid/sparklines-points-of-interest/)[Sparklines API](/react-data-grid/sparklines-api-sparkline-options/)

[Area](/react-data-grid/sparklines-api-sparkline-area/)[Bar / Column](/react-data-grid/sparklines-api-sparkline-bar/)[Line](/react-data-grid/sparklines-api-sparkline-line/)

Integrated Charts

[Overview](/react-data-grid/integrated-charts/)[Install Integrated Charts](/react-data-grid/integrated-charts-installation/)[User Created Charts](/react-data-grid/integrated-charts-user-created/)

[Range Chart](/react-data-grid/integrated-charts-range-chart/)[Pivot Chart](/react-data-grid/integrated-charts-pivot-chart/)

[Application Created Charts](/react-data-grid/integrated-charts-application-created/)

[Range Chart API](/react-data-grid/integrated-charts-api-range-chart/)[Pivot Chart API](/react-data-grid/integrated-charts-api-pivot-chart/)[Cross Filter API](/react-data-grid/integrated-charts-api-cross-filter-chart/)

[Chart Types](/react-data-grid/integrated-charts-chart-types/)[Chart Menu](/react-data-grid/integrated-charts-menu/)[Chart Tool Panels](/react-data-grid/integrated-charts-chart-tool-panels/)[Chart Container](/react-data-grid/integrated-charts-container/)[Customisation](/react-data-grid/integrated-charts-customisation/)[Chart Events](/react-data-grid/integrated-charts-events/)[Time Series](/react-data-grid/integrated-charts-time-series/)[Save / Restore Charts](/react-data-grid/integrated-charts-api-save-restore-charts/)[Chart Image Export](/react-data-grid/integrated-charts-api-downloading-image/)

Standalone Charts

[See AG Charts](https://www.ag-grid.com/charts)

---

##### Core Features

Columns

[Configuration](/react-data-grid/configuration/)

[Column Definitions](/react-data-grid/column-definitions/)[Updating Definitions](/react-data-grid/column-updating-definitions/)[Column State](/react-data-grid/column-state/)

[Column Headers](/react-data-grid/column-headers/)[Column Groups](/react-data-grid/column-groups/)[Column Sizing](/react-data-grid/column-sizing/)[Column Moving](/react-data-grid/column-moving/)[Column Pinning](/react-data-grid/column-pinning/)[Column Spanning](/react-data-grid/column-spanning/)

Rows

[Row Data](/react-data-grid/row-ids/)[Row Sorting](/react-data-grid/row-sorting/)[Row Numbers](/react-data-grid/row-numbers/)[Row Spanning](/react-data-grid/row-spanning/)[Row Pinning](/react-data-grid/row-pinning/)[Row Height](/react-data-grid/row-height/)[Styling Rows](/react-data-grid/row-styles/)[Row Pagination](/react-data-grid/row-pagination/)[Accessing Rows](/react-data-grid/accessing-data/)[Row Dragging](/react-data-grid/row-dragging/)

[External DropZone](/react-data-grid/row-dragging-to-external-dropzone/)[Grid to Grid](/react-data-grid/row-dragging-to-grid/)

[Full Width Rows](/react-data-grid/full-width-rows/)

Cells

[Cell Content](/react-data-grid/cell-content/)

[Getting Values](/react-data-grid/value-getters/)[Text Formatting](/react-data-grid/value-formatters/)[Cell Components](/react-data-grid/component-cell-renderer/)[Cell Data Types](/react-data-grid/cell-data-types/)

[Styling Cells](/react-data-grid/cell-styles/)[Highlighting Changes](/react-data-grid/change-cell-renderers/)[Tooltips](/react-data-grid/tooltips/)[Expressions](/react-data-grid/cell-expressions/)[View Refresh](/react-data-grid/view-refresh/)[Reference Data](/react-data-grid/reference-data/)[Cell Text Selection](/react-data-grid/cell-text-selection/)[Find](/react-data-grid/find/)

Filtering

[Overview](/react-data-grid/filtering-overview/)[Column Filters](/react-data-grid/filtering/)

[Text Filter](/react-data-grid/filter-text/)[Number Filter](/react-data-grid/filter-number/)[Date Filter](/react-data-grid/filter-date/)[Set Filter](/react-data-grid/filter-set/)

[Filter List](/react-data-grid/filter-set-filter-list/)[Data Updates](/react-data-grid/filter-set-data-updates/)[Tree List](/react-data-grid/filter-set-tree-list/)[Mini Filter](/react-data-grid/filter-set-mini-filter/)[Excel Mode](/react-data-grid/filter-set-excel-mode/)[API](/react-data-grid/filter-set-api/)

[Multi Filter](/react-data-grid/filter-multi/)[Filter Conditions](/react-data-grid/filter-conditions/)[Applying Filters](/react-data-grid/filter-applying/)[Filter API](/react-data-grid/filter-api/)

[Custom Column Filters](/react-data-grid/component-filter/)[Floating Filters](/react-data-grid/floating-filters/)[Custom Floating Filters](/react-data-grid/component-floating-filter/)[Advanced Filter](/react-data-grid/filter-advanced/)[External Filter](/react-data-grid/filter-external/)[Quick Filter](/react-data-grid/filter-quick/)

Selection

[Row Selection](/react-data-grid/row-selection/)

[Single Row Selection](/react-data-grid/row-selection-single-row/)[Multi-Row Selection](/react-data-grid/row-selection-multi-row/)[API Reference](/react-data-grid/row-selection-api-reference/)

[Cell Selection](/react-data-grid/cell-selection/)

[Range Handle](/react-data-grid/cell-selection-handle/)[Fill Handle](/react-data-grid/cell-selection-fill-handle/)[API Reference](/react-data-grid/cell-selection-api-reference/)

Editing

[Overview](/react-data-grid/cell-editing/)[Start / Stop Editing](/react-data-grid/cell-editing-start-stop/)[Parsing Values](/react-data-grid/value-parsers/)[Saving Values](/react-data-grid/value-setters/)[Edit Components](/react-data-grid/cell-editors/)[Provided Cell Editors](/react-data-grid/provided-cell-editors/)

[Text Editor](/react-data-grid/provided-cell-editors-text/)[Large Text Editor](/react-data-grid/provided-cell-editors-large-text/)[Select Editor](/react-data-grid/provided-cell-editors-select/)[Rich Select Editor](/react-data-grid/provided-cell-editors-rich-select/)[Number Editor](/react-data-grid/provided-cell-editors-number/)[Date Editors](/react-data-grid/provided-cell-editors-date/)[Checkbox Editor](/react-data-grid/provided-cell-editors-checkbox/)

[Undo / Redo Edits](/react-data-grid/undo-redo-edits/)[Full Row](/react-data-grid/cell-editing-full-row/)

Updating Data

[Row Data](/react-data-grid/data-update-row-data/)[Single Row / Cell](/react-data-grid/data-update-single-row-cell/)[Transactions](/react-data-grid/data-update-transactions/)[High Frequency](/react-data-grid/data-update-high-frequency/)

Interactivity

[Keyboard Navigation](/react-data-grid/keyboard-navigation/)[Touch](/react-data-grid/touch/)[Accessibility (ARIA)](/react-data-grid/accessibility/)[RTL Text Direction](/react-data-grid/rtl/)[Aligned Grids](/react-data-grid/aligned-grids/)[Localisation](/react-data-grid/localisation/)

---

##### Advanced Features

Row Grouping

[Overview](/react-data-grid/grouping/)[Grouping Data](/react-data-grid/grouping-data/)[Group Display Types](/react-data-grid/grouping-display-types/)

[Single Column](/react-data-grid/grouping-single-group-column/)[Multiple Columns](/react-data-grid/grouping-multiple-group-columns/)[Group Rows](/react-data-grid/grouping-group-rows/)

[Row Group Panel](/react-data-grid/grouping-group-panel/)[Expanding Groups](/react-data-grid/grouping-opening-groups/)[Hierarchy Selection](/react-data-grid/grouping-row-selection/)[Sorting](/react-data-grid/grouping-sorting/)

Aggregation

[Overview](/react-data-grid/aggregation/)[Configure Columns](/react-data-grid/aggregation-columns/)[Custom Functions](/react-data-grid/aggregation-custom-functions/)[Total Rows](/react-data-grid/aggregation-total-rows/)[Filtering ](/react-data-grid/aggregation-filtering/)

Pivoting

[Overview](/react-data-grid/pivoting/)[Pivot Result Columns](/react-data-grid/pivoting-result-columns/)[Pivot Column Groups](/react-data-grid/pivoting-column-groups/)[Pivot Totals](/react-data-grid/pivoting-totals/)

Tree Data

[Overview](/react-data-grid/tree-data/)[Supplying Data](/react-data-grid/tree-data-data/)

[Data Paths](/react-data-grid/tree-data-paths/)[Nested Records](/react-data-grid/tree-data-nesting/)[Self-Referential Records](/react-data-grid/tree-data-self-referential/)

[Group Column](/react-data-grid/tree-data-group-column/)[Expanding Groups](/react-data-grid/tree-data-opening-groups/)[Tree Selection](/react-data-grid/tree-data-selection/)[Filtering](/react-data-grid/tree-data-filtering/)

Master Detail

[Overview](/react-data-grid/master-detail/)[Detail Grids](/react-data-grid/master-detail-grids/)[Detail Height](/react-data-grid/master-detail-height/)[Detail Refresh](/react-data-grid/master-detail-refresh/)[Master Rows](/react-data-grid/master-detail-master-rows/)[Nesting](/react-data-grid/master-detail-nesting/)[Custom Detail](/react-data-grid/master-detail-custom-detail/)[Other](/react-data-grid/master-detail-other/)

Accessories

[Tool Panels](/react-data-grid/tool-panel/)

[Side Bar](/react-data-grid/side-bar/)[Columns Tool Panel](/react-data-grid/tool-panel-columns/)[Filters Tool Panel](/react-data-grid/tool-panel-filters/)[Custom Panel](/react-data-grid/component-tool-panel/)

[Column Menu](/react-data-grid/column-menu/)[Context Menu](/react-data-grid/context-menu/)[Menu Item Component](/react-data-grid/component-menu-item/)[Status Bar](/react-data-grid/status-bar/)[Overlays](/react-data-grid/overlays/)

Server-Side Data

[Row Models](/react-data-grid/row-models/)[Server-Side Row Model](/react-data-grid/server-side-model/)

[API Reference](/react-data-grid/server-side-model-api-reference/)[Datasource](/react-data-grid/server-side-model-datasource/)[Configuration](/react-data-grid/server-side-model-configuration/)[Sorting](/react-data-grid/server-side-model-sorting/)[Filtering](/react-data-grid/server-side-model-filtering/)[Row Grouping](/react-data-grid/server-side-model-grouping/)[Pivoting](/react-data-grid/server-side-model-pivoting/)[Pagination](/react-data-grid/server-side-model-pagination/)[Row Selection](/react-data-grid/server-side-model-selection/)[Loading Component](/react-data-grid/component-loading-cell-renderer/)[Changing Columns](/react-data-grid/server-side-model-changing-columns/)[Updating Data](/react-data-grid/server-side-model-updating/)

[Refresh](/react-data-grid/server-side-model-updating-refresh/)[Single Row Updates](/react-data-grid/server-side-model-updating-single-row/)[Transactions](/react-data-grid/server-side-model-updating-transactions/)

[Load Retry](/react-data-grid/server-side-model-retry/)[Row Height](/react-data-grid/server-side-model-row-height/)[Master Detail](/react-data-grid/server-side-model-master-detail/)[Tree Data](/react-data-grid/server-side-model-tree-data/)[Example Node.js & MySQL](/react-data-grid/server-side-operations-nodejs/)[Example GraphQL & MySQL](/react-data-grid/server-side-operations-graphql/)[Example Java & Oracle](/react-data-grid/server-side-operations-oracle/)[Example Java & Apache](/react-data-grid/server-side-operations-spark/)

[Infinite Row Model](/react-data-grid/infinite-scrolling/)[Viewport Row Model](/react-data-grid/viewport/)

Import & Export

[CSV Export](/react-data-grid/csv-export/)[Excel Export](/react-data-grid/excel-export/)

[API Reference](/react-data-grid/excel-export-api/)[Styles](/react-data-grid/excel-export-styles/)[Formulas](/react-data-grid/excel-export-formulas/)[Extra Content](/react-data-grid/excel-export-extra-content/)[Customising Content](/react-data-grid/excel-export-customising-content/)[Images](/react-data-grid/excel-export-images/)[Excel Tables](/react-data-grid/excel-export-tables/)[Multiple Sheets](/react-data-grid/excel-export-multiple-sheets/)[Rows](/react-data-grid/excel-export-rows/)[Columns](/react-data-grid/excel-export-columns/)[Freezing Content](/react-data-grid/excel-export-freeze/)[Data Types](/react-data-grid/excel-export-data-types/)[Hyperlinks](/react-data-grid/excel-export-hyperlinks/)[Master Detail](/react-data-grid/excel-export-master-detail/)[Page Setup](/react-data-grid/excel-export-page-setup/)

[Clipboard](/react-data-grid/clipboard/)[Drag & Drop](/react-data-grid/drag-and-drop/)[Printing](/react-data-grid/printing/)[Import Excel](/react-data-grid/excel-import/)

Performance

[Change Detection](/react-data-grid/change-detection/)[DOM Virtualisation](/react-data-grid/dom-virtualisation/)[Value Cache](/react-data-grid/value-cache/)[Row Animation](/react-data-grid/row-animation/)[Massive Row Count](/react-data-grid/massive-row-count/)[Scrolling Performance](/react-data-grid/scrolling-performance/)

# React Data GridChange Detection

![react logo](/_astro/react.CtDRhtxt.svg)React

The grid has built in change detection. When a value in the grid changes, either via the UI or via the grid API, the grid will check all cells to see which ones need updating and update only those cells, so minimal changes are made to the DOM.

Change detection can be broken down into the following two categories:

1. **Value Change Detection:** When a value for any cell changes (e.g. after an edit), the grid goes through every cell in the grid and compares the current value to the previous value. If the values differ, the cell is refreshed. This allows all cells using `valueGetters` to be kept up to date where a change to one cell (that was edited) may impact the value of another cell (that references the first cell).
2. **Aggregation Change Detection:** When a value for any cell changes, the grid will recalculate all [aggregations](/react-data-grid/aggregation/) that are impacted by the changed value. This means the grid will automatically keep aggregation results (the values in the grouped row) up to date as the data beneath it changes.

If you are using a custom cell renderer see [Cell Components](/react-data-grid/component-cell-renderer/) for more details on how to update your component following change detection.

##  Example: Change Detection and Value Getters [Copy Link](#example-change-detection-and-value-getters) 

The example below shows the impact of change detection on value getters. The grid is doing all the refresh by itself with no need for the client application explicitly requesting a refresh. Notice the following:

* The 'Total' column uses a value getter to calculate the sum of all values in that row.
* Edit any of the values in columns A to F by double clicking a cell and entering a new value.
* The 'Total' column gets automatically refreshed and flashes.

##  1\. Value Change Detection [Copy Link](#1-value-change-detection) 

The grid keeps a local copy of all values rendered in each cell. When a refresh of the cell is requested, the cell will only be refreshed if the value has changed.

You might ask, is checking every cell against its value a performance problem? The answer is no. What AG Grid does is similar to the change detection algorithms in frameworks. Doing this many checks in JavaScript is not a problem. Slowness comes when the DOM is updated many times. AG Grid minimises the DOM updates by only updating the DOM where changes are detected.

###  Comparing Values [Copy Link](#comparing-values) 

This section explains how the grid compares values. This is of interest if you want to compare values in a different way.

By default the grid will compare values by using triple equals, eg `"oldValue === newValue"`. This will work most of the time for you, especially if your values are simple types (string, number, boolean) or immutable objects. This will be a problem for mutable objects as object references will be used for comparison which won't detect internal changes in the object. If using mutable objects (data has changed but it's the same object reference), then you will need to override how the value's are compared.

If your row data attributes are simple types (string, boolean, number) or immutable objects you don't need to implement your own comparison method.

If you do need to provide custom comparison of objects, use the `colDef.equals(val1,val2)` method. For example, the following code snippet provides custom comparison to a 'Name' column where the name is stored in a complex object.

```
const [columnDefs, setColumnDefs] = useState([
    {
        field: 'person',
        // method returns true if first and last names are equal
        equals: (person1, person2) => {
            const firstNameEqual = person1.firstName === person2.firstName;
            const lastNameEqual = person2.lastName === person2.lastName;
            return firstNameEqual && lastNameEqual;
        }
    }
]);

<AgGridReact columnDefs={columnDefs} />
```

###  Triggering Value Change Detection [Copy Link](#triggering-value-change-detection) 

The following operations will **automatically** trigger change detection on all visible cells:

1. Editing any value via the grid UI (e.g. double clicking a cell and entering a new value).
2. Using the `rowNode.setDataValue(col,value)` Row Node method.
3. Using the `api.applyTransaction(transaction)` API method.

If you do not want change detection to be automatically done, then set the grid property `suppressChangeDetection=true`. This will stop the change detection process firing when the above events happen. Ideally you should not want to turn off change detection, however the option is there if you choose to turn it off. One thing that may entice you to turn it off is if you have some custom Value Getters or Cell Class Rules that are doing some time intensive calculations, you may want limit the number of times they are called and have more control over when refreshing is done.

To **manually** run Value Change Detection to refresh all visible cells call [api.refreshCells()](/react-data-grid/view-refresh/).

##  2\. Aggregation Change Detection [Copy Link](#2-aggregation-change-detection) 

Aggregation change detection means rerunning [aggregations](/react-data-grid/aggregation/) when a value changes. So for example, if you are grouping by a column and summing by a value, and one of those values change, then the summed value should also change.

###  Example: Re-Aggregation of Groups [Copy Link](#example-re-aggregation-of-groups) 

The example below shows change detection impacting the result of groups. The grid is doing all the refresh by itself with no need for the client application explicitly requesting a refresh. Notice the following:

* Column 'Group' is marked as a [Row Group](/react-data-grid/grouping/) and columns A to D are marked as [Aggregation](/react-data-grid/aggregation/) columns so that their values are summed into the group level.
* Column 'Total' has a valueGetter which gives a sum of all columns A to D.
* Columns A to D are editable. If you edit a cells value, then the aggregate value at the group level is also updated to reflect the change. This is because the grid is recalculating the aggregations as a result of the change.
* All cells are configured to use one of the grids [animation cell renderer](/react-data-grid/change-cell-renderers/) instead of flashing cells.

Notice above that the group column is also editable (eg you can change one of the rows from group 'A' to group 'G'), however the row does **not** move into the correct group after this change is made. This is discussed below in the section [Change Detection and Sorting, Filtering, Grouping](#change-detection-and-sorting-filtering-grouping).

###  Triggering Aggregation Change Detection [Copy Link](#triggering-aggregation-change-detection) 

The following operations will **automatically** trigger aggregation change detection:

1. Editing any value via the grid UI (e.g. double clicking a cell and entering a new value).
2. Using the `rowNode.setDataValue(col,value)` Row Node method.
3. Using the `api.applyTransaction(transaction)` API method.

To **manually** run aggregation change detection to re-compute the aggregated values, then call [api.refreshClientSideRowModel('aggregate')](/react-data-grid/grid-api/#reference-data-refreshClientSideRowModel).

##  Change Detection and Sorting, Filtering, Grouping [Copy Link](#change-detection-and-sorting-filtering-grouping) 

When a value changes, the grid's automatic change detection will update:

* Aggregated values.
* Values displayed in cells.

The grid will **not**:

* Sort
* Filter
* Group

The reason why sorting, filtering and grouping is not done automatically is that it would be considered bad user experience in most use cases to change the displayed rows while editing. For example, if a user edits a cell, then the row should not jump location (due to sorting and grouping) or even worse, disappear altogether (if the filter removes the row due to the new value failing the filter).

For this reason, if you want to update the sorting, filtering or group grouping after an update, you should listen for the event `cellValueChanged` and call [api.applyTransaction(transaction)](/react-data-grid/data-update-transactions/#transaction-update-api) with the rows that were updated.

###  Example: Change Detection and Filter / Sort / Group [Copy Link](#example-change-detection-and-filter--sort--group) 

The following example is the same as the example above [Change Detection and Groups](#example-change-detection-groups) except it gets the grid to do a transaction update so that the grouping, sorting and filtering are recomputed. From the example, the following can be noted:

* As before, updating any value will update the total column and aggregated group columns.
* Updating a group cell will move the row to the new group. If the group does not exist, it will be created.
* If you order by a column (eg order by 'A') and then change the data so that the order is incorrect, the grid will fix itself so that the ordering is maintained. In other words, the updated row will move to the new sorted position.
* If you set a filter (eg filter 'A' to be 'less than 50') and then change the data so that a row no longer passes the filter, the grid will fix itself so that the filtering is maintained. In other words, the updated row will be removed if it no longer passes the filter.

##  Aggregation Path Selection [Copy Link](#aggregation-path-selection) 

When data in the grid updates and aggregations are active, the grid will not recompute all aggregations again from scratch. Instead it will be selective as to what aggregations need to be re-computed.

##  Tree Path Selection [Copy Link](#tree-path-selection) 

When a value changes, the grid will recompute the immediate group the row is in, and then any parent group, all the way to the root. This is known as 'tree path selection' - only the part of the tree that need to be recalculated are recalculated.

If you are updating many rows at the same time using an [Update Transaction](/react-data-grid/data-update-transactions/), the grid will do all updates first, then recompute all aggregations against the combined impacted paths only.

##  Column Path Selection [Copy Link](#column-path-selection) 

By default, the grid will recalculate aggregations on all columns for the updated tree path, even if only one of the columns values were changed. This is because the grid assumes any column has the potential to impact any other column, should the column be referenced in a valueGetter.

If you are sure that a value change impacts that one column only, then you can set the grid property `aggregateOnlyChangedColumns=true`. This will re-aggregate only the changed column and not all columns after a single cell is updated.

##  Example: Tree Path & Column Path Selection [Copy Link](#example-tree-path--column-path-selection) 

Consider the example below and you edit a cell value under under the groups "Bottom" -> "Group B2" and column "Column C". The grid will only recompute column C aggregations for "Group B2" and "Bottom". It will not recompute any aggregates for any other groups or for any other columns.

The tree path selection (ie not updating anything in the group "Top") is active always in the grid and the column selection (only updating column "Column C") is active because of the grid property `aggregateOnlyChangedColumns=true`.

The path selections ensure only the minimal amount of recalculations are done.

To demonstrate this, the example installs it's own aggregation function for summing. This is identical to the normal summing provided by the grid while also printing out to the console when it gets called. This allows the example to show when the aggregations are done and on what.

So with the example below, open up the console and notice the following:

* When the grid initialises, the aggregation gets complete 48 times (4 columns \* 12 groups). That's all paths in the group tree and all columns.
* When one value changes (either via UI or via the first button 'Update One Value') then the grid recomputes the values for the impacted path only, and for the changed column only.
* When some values change via a transactions using any of the other buttons, then all columns are recomputed but only on the changed path.

##  Change Detection and Pivot [Copy Link](#change-detection-and-pivot) 

Everything above stands for when you are doing [pivoting](/react-data-grid/pivoting/). There are no new concepts to introduce, so let's just get stuck into an example.

When you click any of the buttons below, remember you are not changing the displayed cells values, as when you pivot, each cell is an aggregation of underlying data and the underlying data is no longer displayed in the grid (doing a pivot removes leaf nodes).

From the example, you can observe:

* Uncheck '**Group & Pivot**' to see what the data looks like when it is flat. You can see it's a list of student records showing student scores and age. For seeing the impact of value changes on pivots, keep this checked while selecting the other buttons.
* Button '**Set One Value**' updates one value using `rowNode.setDataValue(col,value)`. The grid aggregates the new value for display.
* Button '**Update Points**' updates one record using `api.applyTransaction(transaction)`. The grid aggregates the new value for display.
* Button '**Add Year 5**' adds one record for 'Year 5' using `api.applyTransaction(transaction)`. The grid does a delta change and adds one more row to represent this group while not touching the DOM with the remaining rows.
* Button '**Add Physics Row**' adds one record with subject 'Physics' using `api.applyTransaction(transaction)`. This impacts the columns in the grid as we are pivoting on 'course', so a new column is added for 'Physics'. Again this is all done without touching the remaining columns or rows in the grid.
* Button '**Remove All Physics**' removes all 'Physics' records `api.applyTransaction(transaction)`. As before, this impacts the columns, all 'Physics' columns are removed.
* Button '**Move Course**' updates a row's course using `api.applyTransaction(transaction)`. This results in the aggregations changing in two locations, once where the course was removed, and another where the course was added.

* [Change Detection](#top)
* [Example: Change Detection and Value Getters](#example-change-detection-and-value-getters)
* [1\. Value Change Detection](#1-value-change-detection)
* [Comparing Values](#comparing-values)
* [Triggering Value Change Detection](#triggering-value-change-detection)
* [2\. Aggregation Change Detection](#2-aggregation-change-detection)
* [Example: Re-Aggregation of Groups](#example-re-aggregation-of-groups)
* [Triggering Aggregation Change Detection](#triggering-aggregation-change-detection)
* [Change Detection and Sorting, Filtering, Grouping](#change-detection-and-sorting-filtering-grouping)
* [Example: Change Detection and Filter / Sort / Group](#example-change-detection-and-filter--sort--group)
* [Aggregation Path Selection](#aggregation-path-selection)
* [Tree Path Selection](#tree-path-selection)
* [Column Path Selection](#column-path-selection)
* [Example: Tree Path & Column Path Selection](#example-tree-path--column-path-selection)
* [Change Detection and Pivot](#change-detection-and-pivot)

© AG Grid Ltd. 2015-2025

AG Grid Ltd registered in the United Kingdom. Company No. 07318192.

## Documentation

* [Getting Started](/documentation)
* [Changelog](/changelog)
* [Pipeline](/pipeline)
* [Documentation Archive](/documentation-archive)

## Support & Community

* [Stack Overflow](https://stackoverflow.com/questions/tagged/ag-grid)
* [License & Pricing](/license-pricing)
* [Support via Zendesk](https://ag-grid.zendesk.com/)

## The Company

* [AG Charts](https://www.ag-grid.com/charts/)
* [About](/about)
* [Blog](https://blog.ag-grid.com/?%5Fga=2.213149716.106872681.1607518091-965402545.1605286673)
* [Privacy Policy](/privacy)
* [Cookies Policy](/cookies)
* [Sitemap](/sitemap)

## Follow

* [GitHub](https://github.com/ag-grid/ag-grid)
* [X](https://twitter.com/ag%5Fgrid)
* [YouTube](https://youtube.com/c/ag-grid)
* [LinkedIn](https://www.linkedin.com/company/ag-grid)