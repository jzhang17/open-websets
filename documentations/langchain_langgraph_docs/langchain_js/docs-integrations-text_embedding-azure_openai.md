[Skip to main content](#%5F%5Fdocusaurus%5FskipToContent%5Ffallback)

**Help us build the JS tools that power AI apps at companies like Replit, Uber, LinkedIn, GitLab, and more. [Join our team!](https://jobs.ashbyhq.com/langchain/05efa205-8560-43fd-bfcc-3f7697561cfb?utm%5Fsource=https%3A%2F%2Fjs.langchain.com%2F&utm%5Fcampaign=langchainjs%5Fdocs)**

[![ü¶úÔ∏èüîó Langchain](/img/brand/wordmark.png)![ü¶úÔ∏èüîó Langchain](/img/brand/wordmark-dark.png)](/)[Integrations](/docs/integrations/platforms/)[API Reference](https://v03.api.js.langchain.com)

[More](#)
* [People](/docs/people/)
* [Community](/docs/community)
* [Error reference](/docs/troubleshooting/errors)
* [External guides](/docs/additional%5Fresources/tutorials)
* [Contributing](/docs/contributing)

[v0.3](#)
* [v0.3](/docs/introduction)
* [v0.2](https://js.langchain.com/v0.2/docs/introduction)
* [v0.1](https://js.langchain.com/v0.1/docs/get%5Fstarted/introduction)

[ü¶úüîó](#)
* [LangSmith](https://smith.langchain.com)
* [LangSmith Docs](https://docs.smith.langchain.com)
* [LangChain Hub](https://smith.langchain.com/hub)
* [LangServe](https://github.com/langchain-ai/langserve)
* [Python Docs](https://python.langchain.com/)

[Chat](https://chatjs.langchain.com)[](https://github.com/langchain-ai/langchainjs)

Search

* [Providers](/docs/integrations/platforms/)  
   * [Providers](/docs/integrations/platforms/)  
   * [Anthropic](/docs/integrations/platforms/anthropic)  
   * [AWS](/docs/integrations/platforms/aws)  
   * [Google](/docs/integrations/platforms/google)  
   * [Microsoft](/docs/integrations/platforms/microsoft)  
   * [OpenAI](/docs/integrations/platforms/openai)
* [Components](/docs/integrations/components)  
   * [Chat models](/docs/integrations/chat/)  
         * [Chat models](/docs/integrations/chat/)  
         * [Alibaba Tongyi](/docs/integrations/chat/alibaba%5Ftongyi)  
         * [Anthropic](/docs/integrations/chat/anthropic)  
         * [Arcjet Redact](/docs/integrations/chat/arcjet)  
         * [Azure OpenAI](/docs/integrations/chat/azure)  
         * [Baidu Qianfan](/docs/integrations/chat/baidu%5Fqianfan)  
         * [Baidu Wenxin](/docs/integrations/chat/baidu%5Fwenxin)  
         * [Amazon Bedrock](/docs/integrations/chat/bedrock)  
         * [Amazon Bedrock Converse](/docs/integrations/chat/bedrock%5Fconverse)  
         * [Cerebras](/docs/integrations/chat/cerebras)  
         * [Cloudflare Workers AI](/docs/integrations/chat/cloudflare%5Fworkersai)  
         * [Cohere](/docs/integrations/chat/cohere)  
         * [Deep Infra](/docs/integrations/chat/deep%5Finfra)  
         * [DeepSeek](/docs/integrations/chat/deepseek)  
         * [DeepSeek](/docs/integrations/chat/deepseek)  
         * [Fake LLM](/docs/integrations/chat/fake)  
         * [Fireworks](/docs/integrations/chat/fireworks)  
         * [Friendli](/docs/integrations/chat/friendli)  
         * [Google GenAI](/docs/integrations/chat/google%5Fgenerativeai)  
         * [Google Vertex AI](/docs/integrations/chat/google%5Fvertex%5Fai)  
         * [Groq](/docs/integrations/chat/groq)  
         * [IBM watsonx.ai](/docs/integrations/chat/ibm)  
         * [Llama CPP](/docs/integrations/chat/llama%5Fcpp)  
         * [Minimax](/docs/integrations/chat/minimax)  
         * [MistralAI](/docs/integrations/chat/mistral)  
         * [Moonshot](/docs/integrations/chat/moonshot)  
         * [NIBittensorChatModel](/docs/integrations/chat/ni%5Fbittensor)  
         * [Novita AI](/docs/integrations/chat/novita)  
         * [Ollama](/docs/integrations/chat/ollama)  
         * [Ollama Functions](/docs/integrations/chat/ollama%5Ffunctions)  
         * [OpenAI](/docs/integrations/chat/openai)  
         * [Perplexity](/docs/integrations/chat/perplexity)  
         * [Perplexity](/docs/integrations/chat/perplexity)  
         * [PremAI](/docs/integrations/chat/premai)  
         * [PromptLayer OpenAI](/docs/integrations/chat/prompt%5Flayer%5Fopenai)  
         * [Tencent Hunyuan](/docs/integrations/chat/tencent%5Fhunyuan)  
         * [Together](/docs/integrations/chat/togetherai)  
         * [WebLLM](/docs/integrations/chat/web%5Fllm)  
         * [xAI](/docs/integrations/chat/xai)  
         * [YandexGPT](/docs/integrations/chat/yandex)  
         * [ZhipuAI](/docs/integrations/chat/zhipuai)  
   * [LLMs](/docs/integrations/llms/)  
         * [LLMs](/docs/integrations/llms/)  
         * [AI21](/docs/integrations/llms/ai21)  
         * [AlephAlpha](/docs/integrations/llms/aleph%5Falpha)  
         * [Arcjet Redact](/docs/integrations/llms/arcjet)  
         * [AWS SageMakerEndpoint](/docs/integrations/llms/aws%5Fsagemaker)  
         * [Azure OpenAI](/docs/integrations/llms/azure)  
         * [Bedrock](/docs/integrations/llms/bedrock)  
         * [ChromeAI](/docs/integrations/llms/chrome%5Fai)  
         * [Cloudflare Workers AI](/docs/integrations/llms/cloudflare%5Fworkersai)  
         * [Cohere](/docs/integrations/llms/cohere)  
         * [Deep Infra](/docs/integrations/llms/deep%5Finfra)  
         * [Fireworks](/docs/integrations/llms/fireworks)  
         * [Friendli](/docs/integrations/llms/friendli)  
         * [Google Vertex AI](/docs/integrations/llms/google%5Fvertex%5Fai)  
         * [Gradient AI](/docs/integrations/llms/gradient%5Fai)  
         * [HuggingFaceInference](/docs/integrations/llms/huggingface%5Finference)  
         * [IBM watsonx.ai](/docs/integrations/llms/ibm)  
         * [JigsawStack Prompt Engine](/docs/integrations/llms/jigsawstack)  
         * [Layerup Security](/docs/integrations/llms/layerup%5Fsecurity)  
         * [Llama CPP](/docs/integrations/llms/llama%5Fcpp)  
         * [MistralAI](/docs/integrations/llms/mistral)  
         * [NIBittensor](/docs/integrations/llms/ni%5Fbittensor)  
         * [Ollama](/docs/integrations/llms/ollama)  
         * [OpenAI](/docs/integrations/llms/openai)  
         * [PromptLayer OpenAI](/docs/integrations/llms/prompt%5Flayer%5Fopenai)  
         * [RaycastAI](/docs/integrations/llms/raycast)  
         * [Replicate](/docs/integrations/llms/replicate)  
         * [Together AI](/docs/integrations/llms/together)  
         * [Writer](/docs/integrations/llms/writer)  
         * [YandexGPT](/docs/integrations/llms/yandex)  
   * [Embedding models](/docs/integrations/text%5Fembedding/)  
         * [Embeddings](/docs/integrations/text%5Fembedding/)  
         * [Alibaba Tongyi](/docs/integrations/text%5Fembedding/alibaba%5Ftongyi)  
         * [Azure OpenAI](/docs/integrations/text%5Fembedding/azure%5Fopenai)  
         * [Baidu Qianfan](/docs/integrations/text%5Fembedding/baidu%5Fqianfan)  
         * [Amazon Bedrock](/docs/integrations/text%5Fembedding/bedrock)  
         * [ByteDance Doubao](/docs/integrations/text%5Fembedding/bytedance%5Fdoubao)  
         * [Cloudflare Workers AI](/docs/integrations/text%5Fembedding/cloudflare%5Fai)  
         * [Cohere](/docs/integrations/text%5Fembedding/cohere)  
         * [DeepInfra](/docs/integrations/text%5Fembedding/deepinfra)  
         * [Fireworks](/docs/integrations/text%5Fembedding/fireworks)  
         * [Google Generative AI](/docs/integrations/text%5Fembedding/google%5Fgenerativeai)  
         * [Google Vertex AI](/docs/integrations/text%5Fembedding/google%5Fvertex%5Fai)  
         * [Gradient AI](/docs/integrations/text%5Fembedding/gradient%5Fai)  
         * [HuggingFace Inference](/docs/integrations/text%5Fembedding/hugging%5Fface%5Finference)  
         * [IBM watsonx.ai](/docs/integrations/text%5Fembedding/ibm)  
         * [Jina](/docs/integrations/text%5Fembedding/jina)  
         * [Llama CPP](/docs/integrations/text%5Fembedding/llama%5Fcpp)  
         * [Minimax](/docs/integrations/text%5Fembedding/minimax)  
         * [MistralAI](/docs/integrations/text%5Fembedding/mistralai)  
         * [Mixedbread AI](/docs/integrations/text%5Fembedding/mixedbread%5Fai)  
         * [Nomic](/docs/integrations/text%5Fembedding/nomic)  
         * [Ollama](/docs/integrations/text%5Fembedding/ollama)  
         * [OpenAI](/docs/integrations/text%5Fembedding/openai)  
         * [Pinecone](/docs/integrations/text%5Fembedding/pinecone)  
         * [Prem AI](/docs/integrations/text%5Fembedding/premai)  
         * [Tencent Hunyuan](/docs/integrations/text%5Fembedding/tencent%5Fhunyuan)  
         * [TensorFlow](/docs/integrations/text%5Fembedding/tensorflow)  
         * [TogetherAI](/docs/integrations/text%5Fembedding/togetherai)  
         * [HuggingFace Transformers](/docs/integrations/text%5Fembedding/transformers)  
         * [Voyage AI](/docs/integrations/text%5Fembedding/voyageai)  
         * [ZhipuAI](/docs/integrations/text%5Fembedding/zhipuai)  
   * [Document loaders](/docs/integrations/document%5Floaders/)  
   * [Vector stores](/docs/integrations/vectorstores/)  
         * [Vector stores](/docs/integrations/vectorstores/)  
         * [AnalyticDB](/docs/integrations/vectorstores/analyticdb)  
         * [Astra DB](/docs/integrations/vectorstores/astradb)  
         * [Azion EdgeSQL](/docs/integrations/vectorstores/azion-edgesql)  
         * [Azion EdgeSQL](/docs/integrations/vectorstores/azion-edgesql)  
         * [Azure AI Search](/docs/integrations/vectorstores/azure%5Faisearch)  
         * [Azure Cosmos DB for MongoDB vCore](/docs/integrations/vectorstores/azure%5Fcosmosdb%5Fmongodb)  
         * [Azure Cosmos DB for NoSQL](/docs/integrations/vectorstores/azure%5Fcosmosdb%5Fnosql)  
         * [Cassandra](/docs/integrations/vectorstores/cassandra)  
         * [Chroma](/docs/integrations/vectorstores/chroma)  
         * [ClickHouse](/docs/integrations/vectorstores/clickhouse)  
         * [CloseVector](/docs/integrations/vectorstores/closevector)  
         * [Cloudflare Vectorize](/docs/integrations/vectorstores/cloudflare%5Fvectorize)  
         * [Convex](/docs/integrations/vectorstores/convex)  
         * [Couchbase](/docs/integrations/vectorstores/couchbase)  
         * [Elasticsearch](/docs/integrations/vectorstores/elasticsearch)  
         * [Faiss](/docs/integrations/vectorstores/faiss)  
         * [Google Cloud SQL for PostgreSQL](/docs/integrations/vectorstores/google%5Fcloudsql%5Fpg)  
         * [Google Cloud SQL for PostgreSQL](/docs/integrations/vectorstores/google%5Fcloudsql%5Fpg)  
         * [Google Vertex AI Matching Engine](/docs/integrations/vectorstores/googlevertexai)  
         * [SAP HANA Cloud Vector Engine](/docs/integrations/vectorstores/hanavector)  
         * [HNSWLib](/docs/integrations/vectorstores/hnswlib)  
         * [LanceDB](/docs/integrations/vectorstores/lancedb)  
         * [libSQL](/docs/integrations/vectorstores/libsql)  
         * [MariaDB](/docs/integrations/vectorstores/mariadb)  
         * [In-memory](/docs/integrations/vectorstores/memory)  
         * [Milvus](/docs/integrations/vectorstores/milvus)  
         * [Momento Vector Index (MVI)](/docs/integrations/vectorstores/momento%5Fvector%5Findex)  
         * [MongoDB Atlas](/docs/integrations/vectorstores/mongodb%5Fatlas)  
         * [MyScale](/docs/integrations/vectorstores/myscale)  
         * [Neo4j Vector Index](/docs/integrations/vectorstores/neo4jvector)  
         * [Neon Postgres](/docs/integrations/vectorstores/neon)  
         * [OpenSearch](/docs/integrations/vectorstores/opensearch)  
         * [PGVector](/docs/integrations/vectorstores/pgvector)  
         * [Pinecone](/docs/integrations/vectorstores/pinecone)  
         * [Prisma](/docs/integrations/vectorstores/prisma)  
         * [Qdrant](/docs/integrations/vectorstores/qdrant)  
         * [Redis](/docs/integrations/vectorstores/redis)  
         * [Rockset](/docs/integrations/vectorstores/rockset)  
         * [SingleStore](/docs/integrations/vectorstores/singlestore)  
         * [Supabase](/docs/integrations/vectorstores/supabase)  
         * [Tigris](/docs/integrations/vectorstores/tigris)  
         * [Turbopuffer](/docs/integrations/vectorstores/turbopuffer)  
         * [TypeORM](/docs/integrations/vectorstores/typeorm)  
         * [Typesense](/docs/integrations/vectorstores/typesense)  
         * [Upstash Vector](/docs/integrations/vectorstores/upstash)  
         * [USearch](/docs/integrations/vectorstores/usearch)  
         * [Vectara](/docs/integrations/vectorstores/vectara)  
         * [Vercel Postgres](/docs/integrations/vectorstores/vercel%5Fpostgres)  
         * [Voy](/docs/integrations/vectorstores/voy)  
         * [Weaviate](/docs/integrations/vectorstores/weaviate)  
         * [Xata](/docs/integrations/vectorstores/xata)  
         * [Zep Open Source](/docs/integrations/vectorstores/zep)  
         * [Zep Cloud](/docs/integrations/vectorstores/zep%5Fcloud)  
   * [Retrievers](/docs/integrations/retrievers/)  
         * [Retrievers](/docs/integrations/retrievers/)  
         * [ArxivRetriever](/docs/integrations/retrievers/arxiv-retriever)  
         * [Azion EdgeSQL](/docs/integrations/retrievers/azion-edgesql)  
         * [Azion EdgeSQL](/docs/integrations/retrievers/azion-edgesql)  
         * [Knowledge Bases for Amazon Bedrock](/docs/integrations/retrievers/bedrock-knowledge-bases)  
         * [BM25](/docs/integrations/retrievers/bm25)  
         * [Chaindesk Retriever](/docs/integrations/retrievers/chaindesk-retriever)  
         * [ChatGPT Plugin Retriever](/docs/integrations/retrievers/chatgpt-retriever-plugin)  
         * [Dria Retriever](/docs/integrations/retrievers/dria)  
         * [Exa](/docs/integrations/retrievers/exa)  
         * [HyDE Retriever](/docs/integrations/retrievers/hyde)  
         * [Amazon Kendra Retriever](/docs/integrations/retrievers/kendra-retriever)  
         * [Metal Retriever](/docs/integrations/retrievers/metal-retriever)  
         * [Self-querying retrievers](/docs/integrations/retrievers/self%5Fquery/)  
         * [Supabase Hybrid Search](/docs/integrations/retrievers/supabase-hybrid)  
         * [Tavily Search API](/docs/integrations/retrievers/tavily)  
         * [Time-Weighted Retriever](/docs/integrations/retrievers/time-weighted-retriever)  
         * [Vespa Retriever](/docs/integrations/retrievers/vespa-retriever)  
         * [Zep Cloud Retriever](/docs/integrations/retrievers/zep-cloud-retriever)  
         * [Zep Open Source Retriever](/docs/integrations/retrievers/zep-retriever)  
   * [Tools/Toolkits](/docs/integrations/tools/)  
         * [Tools and Toolkits](/docs/integrations/tools/)  
         * [ChatGPT Plugins](/docs/integrations/tools/aiplugin-tool)  
         * [Azure Container Apps Dynamic Sessions](/docs/integrations/tools/azure%5Fdynamic%5Fsessions)  
         * [Connery Action Tool](/docs/integrations/tools/connery)  
         * [Dall-E Tool](/docs/integrations/tools/dalle)  
         * [Discord Tool](/docs/integrations/tools/discord)  
         * [DuckDuckGoSearch](/docs/integrations/tools/duckduckgo%5Fsearch)  
         * [ExaSearchResults](/docs/integrations/tools/exa%5Fsearch)  
         * [Gmail Tool](/docs/integrations/tools/gmail)  
         * [GOAT](/docs/integrations/tools/goat)  
         * [Google Calendar Tool](/docs/integrations/tools/google%5Fcalendar)  
         * [Google Places Tool](/docs/integrations/tools/google%5Fplaces)  
         * [Google Routes Tool](/docs/integrations/tools/google%5Froutes)  
         * [Google Scholar](/docs/integrations/tools/google%5Fscholar)  
         * [Google Trends Tool](/docs/integrations/tools/google%5Ftrends)  
         * [JigsawStack Tool](/docs/integrations/tools/jigsawstack)  
         * [Agent with AWS Lambda](/docs/integrations/tools/lambda%5Fagent)  
         * [Python interpreter tool](/docs/integrations/tools/pyinterpreter)  
         * [SearchApi tool](/docs/integrations/tools/searchapi)  
         * [Searxng Search tool](/docs/integrations/tools/searxng)  
         * [SerpAPI](/docs/integrations/tools/serpapi)  
         * [StackExchange Tool](/docs/integrations/tools/stackexchange)  
         * [Stagehand AI Web Automation Toolkit](/docs/integrations/tools/stagehand)  
         * [Tavily Extract](/docs/integrations/tools/tavily%5Fextract)  
         * [Tavily Search](/docs/integrations/tools/tavily%5Fsearch)  
         * [Tavily Search (Community, Deprecated)](/docs/integrations/tools/tavily%5Fsearch%5Fcommunity)  
         * [Web Browser Tool](/docs/integrations/tools/webbrowser)  
         * [Wikipedia tool](/docs/integrations/tools/wikipedia)  
         * [WolframAlpha Tool](/docs/integrations/tools/wolframalpha)  
         * [Agent with Zapier NLA Integration](/docs/integrations/tools/zapier%5Fagent)  
   * [Toolkits](/docs/integrations/tools/)  
         * [Toolkits](/docs/integrations/toolkits/)  
         * [Connery Toolkit](/docs/integrations/toolkits/connery)  
         * [WatsonxToolkit](/docs/integrations/toolkits/ibm)  
         * [WatsonxToolkit](/docs/integrations/toolkits/ibm)  
         * [JSON Agent Toolkit](/docs/integrations/toolkits/json)  
         * [OpenApi Toolkit](/docs/integrations/toolkits/openapi)  
         * [AWS Step Functions Toolkit](/docs/integrations/toolkits/sfn%5Fagent)  
         * [Sql Toolkit](/docs/integrations/toolkits/sql)  
         * [VectorStore Toolkit](/docs/integrations/toolkits/vectorstore)  
   * [Key-value stores](/docs/integrations/stores/)  
         * [Cassandra KV](/docs/integrations/stores/cassandra%5Fstorage)  
         * [File System Store](/docs/integrations/stores/file%5Fsystem)  
         * [InMemory Store](/docs/integrations/stores/in%5Fmemory)  
         * [Key-value stores](/docs/integrations/stores/)  
         * [IORedis](/docs/integrations/stores/ioredis%5Fstorage)  
         * [Upstash Redis](/docs/integrations/stores/upstash%5Fredis%5Fstorage)  
         * [Vercel KV](/docs/integrations/stores/vercel%5Fkv%5Fstorage)  
   * [Other](/docs/integrations/document%5Ftransformers)

* [Components](/docs/integrations/components)
* [Embedding models](/docs/integrations/text%5Fembedding/)
* Azure OpenAI

On this page

# AzureOpenAIEmbeddings

[Azure OpenAI](https://azure.microsoft.com/products/ai-services/openai-service/)is a cloud service to help you quickly develop generative AI experiences with a diverse set of prebuilt and curated models from OpenAI, Meta and beyond.

LangChain.js supports integration with [Azure OpenAI](https://azure.microsoft.com/products/ai-services/openai-service/)using the new Azure integration in the [OpenAI SDK](https://github.com/openai/openai-node).

You can learn more about Azure OpenAI and its difference with the OpenAI API on [this page](https://learn.microsoft.com/azure/ai-services/openai/overview). If you don‚Äôt have an Azure account, you can [create a free account](https://azure.microsoft.com/free/) to get started.

This will help you get started with AzureOpenAIEmbeddings [embedding models](/docs/concepts/embedding%5Fmodels) using LangChain. For detailed documentation on `AzureOpenAIEmbeddings` features and configuration options, please refer to the [API reference](https://api.js.langchain.com/classes/langchain%5Fopenai.AzureOpenAIEmbeddings.html).

info

Previously, LangChain.js supported integration with Azure OpenAI using the dedicated [Azure OpenAI SDK](https://github.com/Azure/azure-sdk-for-js/tree/main/sdk/openai/openai). This SDK is now deprecated in favor of the new Azure integration in the OpenAI SDK, which allows to access the latest OpenAI models and features the same day they are released, and allows seamless transition between the OpenAI API and Azure OpenAI.

If you are using Azure OpenAI with the deprecated SDK, see the [migration guide](#migration-from-azure-openai-sdk) to update to the new API.

## Overview[‚Äã](#overview "Direct link to Overview")

### Integration details[‚Äã](#integration-details "Direct link to Integration details")

| Class                                                                                                       | Package                                                                           | Local | [Py support](https://python.langchain.com/docs/integrations/text%5Fembedding/azureopenai/) | Package downloads                                                                                    | Package latest                                                                                    |
| ----------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------- | ----- | ------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| [AzureOpenAIEmbeddings](https://api.js.langchain.com/classes/langchain%5Fopenai.AzureOpenAIEmbeddings.html) | [@langchain/openai](https://api.js.langchain.com/modules/langchain%5Fopenai.html) | ‚ùå     | ‚úÖ                                                                                          | ![NPM - Downloads](https://img.shields.io/npm/dm/@langchain/openai?style=flat-square&label=%20&.png) | ![NPM - Version](https://img.shields.io/npm/v/@langchain/openai?style=flat-square&label=%20&.png) |

## Setup[‚Äã](#setup "Direct link to Setup")

To access Azure OpenAI embedding models you‚Äôll need to create an Azure account, get an API key, and install the `@langchain/openai` integration package.

### Credentials[‚Äã](#credentials "Direct link to Credentials")

You‚Äôll need to have an Azure OpenAI instance deployed. You can deploy a version on Azure Portal following [this guide](https://learn.microsoft.com/azure/ai-services/openai/how-to/create-resource?pivots=web-portal).

Once you have your instance running, make sure you have the name of your instance and key. You can find the key in the Azure Portal, under the ‚ÄúKeys and Endpoint‚Äù section of your instance.

If you‚Äôre using Node.js, you can define the following environment variables to use the service:

```
AZURE_OPENAI_API_INSTANCE_NAME=<YOUR_INSTANCE_NAME>
AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME=<YOUR_EMBEDDINGS_DEPLOYMENT_NAME>
AZURE_OPENAI_API_KEY=<YOUR_KEY>
AZURE_OPENAI_API_VERSION="2024-02-01"

```

If you want to get automated tracing of your model calls you can also set your [LangSmith](https://docs.smith.langchain.com/) API key by uncommenting below:

```
# export LANGSMITH_TRACING="true"
# export LANGSMITH_API_KEY="your-api-key"

```

### Installation[‚Äã](#installation "Direct link to Installation")

The LangChain AzureOpenAIEmbeddings integration lives in the`@langchain/openai` package:

tip

See [this section for general instructions on installing integration packages](/docs/how%5Fto/installation#installing-integration-packages).

* npm
* yarn
* pnpm

```
npm i @langchain/openai @langchain/core

```

```
yarn add @langchain/openai @langchain/core

```

```
pnpm add @langchain/openai @langchain/core

```

info

You can find the list of supported API versions in the [Azure OpenAI documentation](https://learn.microsoft.com/azure/ai-services/openai/reference).

tip

If `AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME` is not defined, it will fall back to the value of `AZURE_OPENAI_API_DEPLOYMENT_NAME` for the deployment name. The same applies to the `azureOpenAIApiEmbeddingsDeploymentName` parameter in the `AzureOpenAIEmbeddings` constructor, which will fall back to the value of `azureOpenAIApiDeploymentName` if not defined.

## Instantiation[‚Äã](#instantiation "Direct link to Instantiation")

Now we can instantiate our model object and embed text:

```
import { AzureOpenAIEmbeddings } from "@langchain/openai";

const embeddings = new AzureOpenAIEmbeddings({
  azureOpenAIApiKey: "<your_key>", // In Node.js defaults to process.env.AZURE_OPENAI_API_KEY
  azureOpenAIApiInstanceName: "<your_instance_name>", // In Node.js defaults to process.env.AZURE_OPENAI_API_INSTANCE_NAME
  azureOpenAIApiEmbeddingsDeploymentName: "<your_embeddings_deployment_name>", // In Node.js defaults to process.env.AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME
  azureOpenAIApiVersion: "<api_version>", // In Node.js defaults to process.env.AZURE_OPENAI_API_VERSION
  maxRetries: 1,
});

```

## Indexing and Retrieval[‚Äã](#indexing-and-retrieval "Direct link to Indexing and Retrieval")

Embedding models are often used in retrieval-augmented generation (RAG) flows, both as part of indexing data as well as later retrieving it. For more detailed instructions, please see our RAG tutorials under the[working with external knowledge tutorials](/docs/tutorials/#working-with-external-knowledge).

Below, see how to index and retrieve data using the `embeddings` object we initialized above. In this example, we will index and retrieve a sample document using the demo[MemoryVectorStore](/docs/integrations/vectorstores/memory).

```
// Create a vector store with a sample text
import { MemoryVectorStore } from "langchain/vectorstores/memory";

const text =
  "LangChain is the framework for building context-aware reasoning applications";

const vectorstore = await MemoryVectorStore.fromDocuments(
  [{ pageContent: text, metadata: {} }],
  embeddings
);

// Use the vector store as a retriever that returns a single document
const retriever = vectorstore.asRetriever(1);

// Retrieve the most similar text
const retrievedDocuments = await retriever.invoke("What is LangChain?");

retrievedDocuments[0].pageContent;

```

```
LangChain is the framework for building context-aware reasoning applications

```

## Direct Usage[‚Äã](#direct-usage "Direct link to Direct Usage")

Under the hood, the vectorstore and retriever implementations are calling `embeddings.embedDocument(...)` and `embeddings.embedQuery(...)`to create embeddings for the text(s) used in `fromDocuments` and the retriever‚Äôs `invoke` operations, respectively.

You can directly call these methods to get embeddings for your own use cases.

### Embed single texts[‚Äã](#embed-single-texts "Direct link to Embed single texts")

You can embed queries for search with `embedQuery`. This generates a vector representation specific to the query:

```
const singleVector = await embeddings.embedQuery(text);

console.log(singleVector.slice(0, 100));

```

```
[
   -0.024253517, -0.0054218727,   0.048715446,   0.020580322,    0.03180832,
   0.0028770117,  -0.012367731,   0.037383243,  -0.054915592,   0.032225136,
     0.00825818,  -0.023888804,   -0.01184671,   0.012257014,   0.016294925,
    0.009254632,  0.0051353113,  -0.008889917,   0.016855022,    0.04207243,
  0.00082589936,  -0.011664353,    0.00818654,   0.029020859,  -0.012335167,
   -0.019603407,  0.0013945447,    0.05538451,  -0.011625277,  -0.008153976,
    0.038607642,   -0.03811267, -0.0074440846,   0.047647353,   -0.00927417,
    0.024201415, -0.0069230637,  -0.008538228,   0.003910912,   0.052805457,
   -0.023159374,  0.0014352495,  -0.038659744,   0.017141584,   0.005587948,
    0.007971618,  -0.016920151,    0.06658646, -0.0016916894,   0.045667473,
   -0.042202685,   -0.03983204,   -0.04160351,  -0.011729481,  -0.055905532,
    0.012543576,  0.0038848612,   0.007919516,   0.010915386,  0.0033117384,
   -0.007548289,  -0.030427614,  -0.041890074,   0.036002535,  -0.023771575,
   -0.008792226,  -0.049444873,   0.016490309, -0.0060568666,   0.040196754,
    0.014106638,  -0.014575557, -0.0017356506,  -0.011234511,  -0.012517525,
    0.008362384,    0.01253055,   0.036158845,   0.008297256, -0.0010908874,
   -0.014888169,  -0.020489143,   0.018965157,  -0.057937514, -0.0037122732,
    0.004402626,   -0.00840146,   0.042984217,   -0.04936672,   -0.03714878,
    0.004969236,    0.03707063,   0.015396165,   -0.02055427,    0.01988997,
    0.030219207,  -0.021257648,    0.01340326,   0.003692735,   0.012595678
]

```

### Embed multiple texts[‚Äã](#embed-multiple-texts "Direct link to Embed multiple texts")

You can embed multiple texts for indexing with `embedDocuments`. The internals used for this method may (but do not have to) differ from embedding queries:

```
const text2 =
  "LangGraph is a library for building stateful, multi-actor applications with LLMs";

const vectors = await embeddings.embedDocuments([text, text2]);

console.log(vectors[0].slice(0, 100));
console.log(vectors[1].slice(0, 100));

```

```
[
   -0.024253517, -0.0054218727,   0.048715446,   0.020580322,    0.03180832,
   0.0028770117,  -0.012367731,   0.037383243,  -0.054915592,   0.032225136,
     0.00825818,  -0.023888804,   -0.01184671,   0.012257014,   0.016294925,
    0.009254632,  0.0051353113,  -0.008889917,   0.016855022,    0.04207243,
  0.00082589936,  -0.011664353,    0.00818654,   0.029020859,  -0.012335167,
   -0.019603407,  0.0013945447,    0.05538451,  -0.011625277,  -0.008153976,
    0.038607642,   -0.03811267, -0.0074440846,   0.047647353,   -0.00927417,
    0.024201415, -0.0069230637,  -0.008538228,   0.003910912,   0.052805457,
   -0.023159374,  0.0014352495,  -0.038659744,   0.017141584,   0.005587948,
    0.007971618,  -0.016920151,    0.06658646, -0.0016916894,   0.045667473,
   -0.042202685,   -0.03983204,   -0.04160351,  -0.011729481,  -0.055905532,
    0.012543576,  0.0038848612,   0.007919516,   0.010915386,  0.0033117384,
   -0.007548289,  -0.030427614,  -0.041890074,   0.036002535,  -0.023771575,
   -0.008792226,  -0.049444873,   0.016490309, -0.0060568666,   0.040196754,
    0.014106638,  -0.014575557, -0.0017356506,  -0.011234511,  -0.012517525,
    0.008362384,    0.01253055,   0.036158845,   0.008297256, -0.0010908874,
   -0.014888169,  -0.020489143,   0.018965157,  -0.057937514, -0.0037122732,
    0.004402626,   -0.00840146,   0.042984217,   -0.04936672,   -0.03714878,
    0.004969236,    0.03707063,   0.015396165,   -0.02055427,    0.01988997,
    0.030219207,  -0.021257648,    0.01340326,   0.003692735,   0.012595678
]
[
   -0.033366997,   0.010419146,  0.0118083665,  -0.040441725, 0.0020355924,
   -0.015808804,  -0.023629595, -0.0066180876,  -0.040004376,  0.020053642,
  -0.0010797002,   -0.03900105,  -0.009956073,  0.0027896944,  0.003305828,
   -0.034010153,   0.009833873,  0.0061164247,   0.022536227,  0.029147884,
    0.017789727,    0.03182342,   0.010869357,   0.031849146, -0.028093107,
    0.008283865, -0.0145610785,    0.01645196,  -0.029430874,  -0.02508313,
    0.046178687,   -0.01722375,  -0.010046115,   0.013101112, 0.0044538635,
     0.02197025,    0.03985002,   0.007955855,  0.0008819293,  0.012657333,
    0.014368132,  -0.014007963,   -0.03722594,   0.031617608, -0.011570398,
    0.039052505,  0.0020018267,   0.023706773, -0.0046950476,  0.056083307,
    -0.08412496,  -0.043425974,  -0.015512952,   0.015950298,  -0.03624834,
  -0.0053317733,  -0.037251666,  0.0046339477,    0.04193385,  0.023475237,
   -0.021378545,   0.013699248,  -0.026009277,   0.050757967,   -0.0494202,
   0.0007874656,   -0.07208506,   0.015885983,  -0.003259199,  0.015127057,
   0.0068946453,  -0.035373647,  -0.005875241, -0.0032238255,  -0.04185667,
   -0.022047428,  0.0014326327, -0.0070940237, -0.0027864785, -0.016271876,
    0.005097021,   0.034473225,   0.012361481,  -0.026498076, 0.0067274245,
   -0.026330855,  -0.006132504,   0.008180959,  -0.049368747, -0.032337945,
    0.011049441,    0.00186194,  -0.012097787,    0.01930758,   0.07059293,
    0.029713862,    0.04337452, -0.0048461896,  -0.019976463,  0.011473924
]

```

## Using Azure Managed Identity[‚Äã](#using-azure-managed-identity "Direct link to Using Azure Managed Identity")

If you‚Äôre using Azure Managed Identity, you can configure the credentials like this:

```
import {
  DefaultAzureCredential,
  getBearerTokenProvider,
} from "@azure/identity";
import { AzureOpenAIEmbeddings } from "@langchain/openai";

const credentials = new DefaultAzureCredential();
const azureADTokenProvider = getBearerTokenProvider(
  credentials,
  "https://cognitiveservices.azure.com/.default"
);

const modelWithManagedIdentity = new AzureOpenAIEmbeddings({
  azureADTokenProvider,
  azureOpenAIApiInstanceName: "<your_instance_name>",
  azureOpenAIApiEmbeddingsDeploymentName: "<your_embeddings_deployment_name>",
  azureOpenAIApiVersion: "<api_version>",
});

```

## Using a different domain[‚Äã](#using-a-different-domain "Direct link to Using a different domain")

If your instance is hosted under a domain other than the default`openai.azure.com`, you‚Äôll need to use the alternate`AZURE_OPENAI_BASE_PATH` environment variable. For example, here‚Äôs how you would connect to the domain`https://westeurope.api.microsoft.com/openai/deployments/{DEPLOYMENT_NAME}`:

```
import { AzureOpenAIEmbeddings } from "@langchain/openai";

const embeddingsDifferentDomain = new AzureOpenAIEmbeddings({
  azureOpenAIApiKey: "<your_key>", // In Node.js defaults to process.env.AZURE_OPENAI_API_KEY
  azureOpenAIApiEmbeddingsDeploymentName: "<your_embedding_deployment_name>", // In Node.js defaults to process.env.AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME
  azureOpenAIApiVersion: "<api_version>", // In Node.js defaults to process.env.AZURE_OPENAI_API_VERSION
  azureOpenAIBasePath:
    "https://westeurope.api.microsoft.com/openai/deployments", // In Node.js defaults to process.env.AZURE_OPENAI_BASE_PATH
});

```

## Custom headers[‚Äã](#custom-headers "Direct link to Custom headers")

You can specify custom headers by passing in a `configuration` field:

```
import { AzureOpenAIEmbeddings } from "@langchain/openai";

const embeddingsWithCustomHeaders = new AzureOpenAIEmbeddings({
  azureOpenAIApiKey: "<your_key>",
  azureOpenAIApiInstanceName: "<your_instance_name>",
  azureOpenAIApiEmbeddingsDeploymentName: "<your_embeddings_deployment_name>",
  azureOpenAIApiVersion: "<api_version>",
  configuration: {
    defaultHeaders: {
      "x-custom-header": `SOME_VALUE`,
    },
  },
});

```

The `configuration` field also accepts other `ClientOptions` parameters accepted by the official SDK.

**Note:** The specific header `api-key` currently cannot be overridden in this manner and will pass through the value from `azureOpenAIApiKey`.

## Migration from Azure OpenAI SDK[‚Äã](#migration-from-azure-openai-sdk "Direct link to Migration from Azure OpenAI SDK")

If you are using the deprecated Azure OpenAI SDK with the`@langchain/azure-openai` package, you can update your code to use the new Azure integration following these steps:

1. Install the new `@langchain/openai` package and remove the previous`@langchain/azure-openai` package:`bash npm2yarn npm install @langchain/openai npm uninstall @langchain/azure-openai`
2. Update your imports to use the new `AzureOpenAIEmbeddings` classe from the `@langchain/openai` package:  
```  
import { AzureOpenAIEmbeddings } from "@langchain/openai";  
```
3. Update your code to use the new `AzureOpenAIEmbeddings` class and pass the required parameters:  
```  
const model = new AzureOpenAIEmbeddings({  
  azureOpenAIApiKey: "<your_key>",  
  azureOpenAIApiInstanceName: "<your_instance_name>",  
  azureOpenAIApiEmbeddingsDeploymentName:  
    "<your_embeddings_deployment_name>",  
  azureOpenAIApiVersion: "<api_version>",  
});  
```  
Notice that the constructor now requires the`azureOpenAIApiInstanceName` parameter instead of the`azureOpenAIEndpoint` parameter, and adds the`azureOpenAIApiVersion` parameter to specify the API version.  
   * If you were using Azure Managed Identity, you now need to use the `azureADTokenProvider` parameter to the constructor instead of `credentials`, see the [Azure Managed Identity](#using-azure-managed-identity) section for more details.  
   * If you were using environment variables, you now have to set the`AZURE_OPENAI_API_INSTANCE_NAME` environment variable instead of`AZURE_OPENAI_API_ENDPOINT`, and add the`AZURE_OPENAI_API_VERSION` environment variable to specify the API version.

## API reference[‚Äã](#api-reference "Direct link to API reference")

For detailed documentation of all AzureOpenAIEmbeddings features and configurations head to the API reference:<https://api.js.langchain.com/classes/langchain%5Fopenai.AzureOpenAIEmbeddings.html>

## Related[‚Äã](#related "Direct link to Related")

* Embedding model [conceptual guide](/docs/concepts/#embedding-models)
* Embedding model [how-to guides](/docs/how%5Fto/#embedding-models)

---

#### Was this page helpful?

  
#### You can also leave detailed feedback [on GitHub](https://github.com/langchain-ai/langchainjs/issues/new?assignees=&labels=03+-+Documentation&projects=&template=documentation.yml&title=DOC%3A+%3CPlease+write+a+comprehensive+title+after+the+%27DOC%3A+%27+prefix%3E).

[PreviousAlibaba Tongyi](/docs/integrations/text%5Fembedding/alibaba%5Ftongyi)[NextBaidu Qianfan](/docs/integrations/text%5Fembedding/baidu%5Fqianfan)

* [Overview](#overview)  
   * [Integration details](#integration-details)
* [Setup](#setup)  
   * [Credentials](#credentials)  
   * [Installation](#installation)
* [Instantiation](#instantiation)
* [Indexing and Retrieval](#indexing-and-retrieval)
* [Direct Usage](#direct-usage)  
   * [Embed single texts](#embed-single-texts)  
   * [Embed multiple texts](#embed-multiple-texts)
* [Using Azure Managed Identity](#using-azure-managed-identity)
* [Using a different domain](#using-a-different-domain)
* [Custom headers](#custom-headers)
* [Migration from Azure OpenAI SDK](#migration-from-azure-openai-sdk)
* [API reference](#api-reference)
* [Related](#related)

Community

* [Twitter](https://twitter.com/LangChainAI)

GitHub

* [Python](https://github.com/langchain-ai/langchain)
* [JS/TS](https://github.com/langchain-ai/langchainjs)

More

* [Homepage](https://langchain.com)
* [Blog](https://blog.langchain.dev)

Copyright ¬© 2025 LangChain, Inc.